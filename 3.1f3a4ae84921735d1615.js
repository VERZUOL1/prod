webpackJsonp([3],{2304:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(2390),n=function(e){return e&&e.__esModule?e:{default:e}}(l);t.default=n.default},2317:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(2328),n=function(e){return e&&e.__esModule?e:{default:e}}(l);t.default=n.default},2318:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SITE_STATUS={ACTIVE:"ACTIVE",COMPLETED:"COMPLETED"},t.METRICS_FILTER=[{key:"median_time_to_query",value:"Median time to query close"},{key:"median_time_to_entry",value:"Median time to entry"},{key:"mvr_issues",value:"MVR issues raised"},{key:"patients_with_ie_protocol_deviation",value:"Patients w/I/E protocol deviation"},{key:"query_rate",value:"Query Rate"}],t.METRICS_FILTER_KEYS={MEDIAN_TIME_TO_QUERY:"median_time_to_query",MEDIAN_TIME_TO_ENTRY:"median_time_to_entry",MVR_ISSUES_RAISED:"mvr_issues",PATIENTS_PROTOCOL_DEVIATION:"patients_with_ie_protocol_deviation",QUERY_RATE:"query_rate"},t.MILESTONES_FILTER=[{key:"fp_siv",value:"FP-SIV"},{key:"siv_fpfv",value:"SIV-FPFV"},{key:"fpfv_lpfv",value:"FPFV-LPFV"}],t.MILESTONES_FILTER_FILTER_KEYS={FP_SIV:"fp_siv",SIV_FPFV:"siv_fpfv",FPFV_LPFV:"fpfv_lpfv"}},2320:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){var a=[],l=!0,n=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(l=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);l=!0);}catch(e){n=!0,r=e}finally{try{!l&&s.return&&s.return()}finally{if(n)throw r}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=a(0),i=l(r),s=a(1),u=l(s),d=a(2),o=l(d),c=a(2329),f=l(c),m=function(e){var t=e.onSubmit,a=e.setMultieditView,l=e.dataType,s=e.handleCancel,u=(0,r.useState)(null),d=n(u,2),c=d[0],m=d[1];return i.default.createElement("div",{className:(0,o.default)("sites-multiedit-panel",{selected:"NONE"!==l})},"NONE"!==l&&i.default.createElement(f.default,{tab:1,onBackClick:function(){},onCommentChange:function(){},status:"SELECTED"===l?"REMOVE":"ADD",reason:c,setReason:m,handleSubmit:function(){return t("SELECTED"===l?"REMOVE":"ADD",c)},handleCancel:function(){s?s():a("NONE")}}))};m.defaultProps={handleCancel:null},m.propTypes={onSubmit:u.default.func.isRequired,setMultieditView:u.default.func.isRequired,dataType:u.default.oneOf(["SELECTED","OTHER","RAW","HEADER","NONE","EXTERNAL"]).isRequired,handleCancel:u.default.func},t.default=m},2326:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function n(e,t){var a={};for(var l in e)t.indexOf(l)>=0||Object.prototype.hasOwnProperty.call(e,l)&&(a[l]=e[l]);return a}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),i=l(r),s=a(1),u=l(s),d=a(2),o=l(d),c=a(82),f=l(c);a(2339);var m=function(e){var t=n(e,[]),a=t.dataHeader,l=t.children;return i.default.createElement("div",{className:"country-sites-header-container"},i.default.createElement("div",{className:"country-sites-header"},a.map(function(e,t){return i.default.createElement(i.default.Fragment,{key:"frg-"+t},i.default.createElement("div",{key:"ind-"+t},i.default.createElement("div",{className:(0,o.default)("sites-count",{"has-separator":e.isSeparator})},i.default.createElement("div",{className:"name"},e.title),i.default.createElement("div",{className:(0,o.default)("value",{selected:e.isSelected,active:e.active})},e.value))),e.isSeparator?i.default.createElement(f.default,{className:"separator",size:"large",key:"sep-"+t}):null)}),l))};m.propTypes={title:u.default.string,value:u.default.string},m.defaultProps={title:"",value:"",isSeparator:!1},t.default=m},2327:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(2326),n=function(e){return e&&e.__esModule?e:{default:e}}(l);t.default=n.default},2328:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),u=a(0),d=l(u),o=a(1),c=l(o),f=a(2),m=l(f),p=a(65),y=l(p);a(2340);var E=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={selected:a.props.selected,opened:!1},a.onSelect=a.onSelect.bind(a),a.toggleOpen=a.toggleOpen.bind(a),a}return i(t,e),s(t,[{key:"onSelect",value:function(e,t){this.setState({selected:e}),this.props.onSelect(e,t),this.toggleOpen()}},{key:"toggleOpen",value:function(){var e=this;this.setState(function(t){return e.props.onStatusChange&&e.props.onStatusChange(!t.opened),{opened:!t.opened}})}},{key:"handleClickOutside",value:function(){this.state.opened&&this.toggleOpen()}},{key:"render",value:function(){var e=this,t=this.props,a=t.readOnly,l=t.disabled,n=this.props.options.map(function(t){return d.default.createElement("div",{className:(0,m.default)("option",{selected:t.key===e.state.selected,"read-only":a}),key:t.key,onClick:function(){return!a&&e.onSelect(t.key,t.value)}},t.value)}),r=this.props.options.find(function(t){return t.key===e.state.selected});return d.default.createElement("div",{className:(0,m.default)("dropdown",{opened:this.state.opened,disabled:l})},d.default.createElement("div",{className:"selected-option",onClick:this.toggleOpen},this.props.staticLabel||r&&r.value||""),d.default.createElement("div",{className:"options"},n))}}]),t}(u.Component);E.defaultProps={selected:"",onStatusChange:void 0,staticLabel:null,readOnly:!1,disabled:!1},E.propTypes={options:c.default.array.isRequired,selected:c.default.string,onSelect:c.default.func.isRequired,onStatusChange:c.default.func,staticLabel:c.default.string,readOnly:c.default.bool,disabled:c.default.bool},t.default=(0,y.default)(E)},2329:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},i=a(0),s=l(i),u=a(1),d=l(u),o=a(2),c=l(o),f=a(7),m=a(61),p=l(m),y=a(313),E=l(y),_=a(73),v={ADD:_.ADD,REMOVE:_.REMOVE},h=function(){},g=function(e){var t=e.status,a=e.reason,l=e.setReason,i=e.handleCancel,u=e.handleSubmit,d=e.reasons,o={};d.filter(function(e){return e.action===t&&e.is_active}).forEach(function(e){var t=o[e.group_name];t?t.items=r({},t.items,n({},e.id,e.text)):o[e.group_name]={title:e.group_name,items:n({},e.id,e.text)}});var f=Object.keys(o).map(function(e){var t=o[e],n=Object.keys(t.items).map(function(e){return s.default.createElement("div",{key:e,className:(0,c.default)("reasons-list-item",{active:a===e}),onClick:function(){return l(e)}},s.default.createElement(E.default,{checked:a===e,value:e,onChange:h,name:"reason",label:""}),s.default.createElement("div",{className:"reasons-list-item__label"},t.items[e]))});return s.default.createElement("div",{key:t.title},s.default.createElement("h4",null,t.title,":"),s.default.createElement("div",null,n))});return s.default.createElement(s.default.Fragment,null,s.default.createElement("h3",null,"Set reason to "+v[t].toLowerCase()),s.default.createElement("div",{className:"action-cell-popup-menu__options",onScroll:function(e){return e.stopPropagation()}},f),s.default.createElement("div",{className:"action-cell-popup-menu__control"},s.default.createElement(p.default,{label:_.CANCEL,type:"transparent",onClick:i}),s.default.createElement(p.default,{label:v[t],type:"primary",onClick:u,disabled:!a})))},x=function(e){return{reasons:e.sites.siteEditReasons}};g.defaultProps={status:"REMOVE",reason:null,tab:1,reasons:[]},g.propTypes={status:d.default.string,reason:d.default.string,setReason:d.default.func.isRequired,handleCancel:d.default.func.isRequired,handleSubmit:d.default.func.isRequired,reasons:d.default.array},t.default=(0,f.connect)(x)(g)},2330:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){var a=[],l=!0,n=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(l=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);l=!0);}catch(e){n=!0,r=e}finally{try{!l&&s.return&&s.return()}finally{if(n)throw r}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=a(0),i=l(r),s=a(1),u=l(s),d=a(2),o=l(d),c=a(12),f=l(c),m=a(14),p=l(m),y=a(6),E=a(2320),_=l(E),v=a(750),h=a(73);a(2341);var g={ADD:h.ADD,REMOVE:h.REMOVE},x=function(e){var t=e.rowData,a=e.onSubmit,l=e.isEditable,s=e.dataType,u=(0,v.getActionType)(t),d=(0,r.useRef)(),c=(0,r.useRef)(),m=(0,r.useState)(!1),E=n(m,2),h=E[0],x=E[1],b=(0,r.useCallback)(function(){x(!1)},[]),w=(0,r.useCallback)(function(e,l){a(u,t.investigator_center_id,l),b()},[a,t.investigator_center_id,b,u]),C=(0,r.useCallback)(function(e){e.target&&(e.target.classList.contains("options-item")||e.target.closest(".action-cell__back-button"))||d.current&&(h&&d.current.contains(e.target)||h&&b())},[b,h]);return(0,r.useEffect)(function(){return h&&document.addEventListener("click",C),h||document.removeEventListener("click",C),function(){document.removeEventListener("click",C)}},[h,C]),(0,f.default)(t,"studyLevelData.randomized_patients",0)&&"REMOVE"===u?null:i.default.createElement("div",{className:"action-cell"},i.default.createElement(p.default,{align:{offset:[0,0]},mouseEnterDelay:.7,overlay:g[u]+" site"},i.default.createElement("div",{onClick:function(e){e.stopPropagation(),l&&x(!h)}},i.default.createElement("span",{ref:c,className:(0,o.default)({red:"REMOVE"===u,green:"ADD"===u})},"REMOVE"===u?y.Icons.CROSS_O:y.Icons.PLUS))),i.default.createElement("div",{ref:d,onClick:function(e){return e.stopPropagation()},className:(0,o.default)({hidden:!h})},h&&i.default.createElement(_.default,{dataType:s,handleCancel:b,setMultieditView:function(){},onSubmit:w})))};x.propTypes={rowData:u.default.object.isRequired,onSubmit:u.default.func.isRequired,isEditable:u.default.bool.isRequired,dataType:u.default.string.isRequired},t.default=x},2333:function(e,t,a){t=e.exports=a(3)(void 0),t.push([e.i,"",""])},2334:function(e,t,a){t=e.exports=a(3)(void 0),t.push([e.i,"",""])},2335:function(e,t,a){t=e.exports=a(3)(void 0),t.push([e.i,"",""])},2339:function(e,t,a){var l=a(2333);"string"==typeof l&&(l=[[e.i,l,""]]);var n={singleton:!0};n.transform=void 0,a(4)(l,n),l.locals&&(e.exports=l.locals)},2340:function(e,t,a){var l=a(2334);"string"==typeof l&&(l=[[e.i,l,""]]);var n={singleton:!0};n.transform=void 0,a(4)(l,n),l.locals&&(e.exports=l.locals)},2341:function(e,t,a){var l=a(2335);"string"==typeof l&&(l=[[e.i,l,""]]);var n={singleton:!0};n.transform=void 0,a(4)(l,n),l.locals&&(e.exports=l.locals)},2342:function(e,t,a){"use strict";function l(e){return null===e||void 0===e?"n/a":e?"Yes":"No"}Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},2363:function(e,t,a){var l=a(2430);"string"==typeof l&&(l=[[e.i,l,""]]);var n={singleton:!0};n.transform=void 0,a(4)(l,n),l.locals&&(e.exports=l.locals)},2364:function(e,t,a){var l=a(2431);"string"==typeof l&&(l=[[e.i,l,""]]);var n={singleton:!0};n.transform=void 0,a(4)(l,n),l.locals&&(e.exports=l.locals)},2368:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),r=l(n),i=a(1),s=l(i),u=a(15),d=a(2371),o=a(2378),c=l(o),f=a(2369),m=l(f);a(2473);var p=function(e){var t=e.id,a=e.data,l=e.metricsFilter,n=e.onMetricsFilter,i=e.milestonesFilter,s=e.onMilestonesFilter,o=e.noHeader;return r.default.createElement("div",{className:"country-site-table",id:t},r.default.createElement(u.FlexTable,{headerHeight:o?0:139,rowHeight:48,rowsCount:a.length},r.default.createElement(c.default,{className:"sites-row"},r.default.createElement(u.Column,{className:"sites-column",overflow:!0,header:o?r.default.createElement(m.default,null):r.default.createElement(d.SiteCaptionCell,null),data:r.default.createElement(d.SiteDataCell,{data:a}),width:390}),r.default.createElement(u.Column,{className:"sites-column",overflow:!0,header:o?r.default.createElement(m.default,null):r.default.createElement(d.SiteHistoricalCell,{metricsFilter:l,onMetricsFilter:n}),data:r.default.createElement(d.SiteHistoricalData,{data:a,metricsFilter:l}),width:489}),r.default.createElement(u.Column,{className:"sites-column",overflow:!0,header:o?r.default.createElement(m.default,null):r.default.createElement(d.SiteActual,{milestonesFilter:i,onMilestonesFilter:s}),data:r.default.createElement(d.SiteActualData,{data:a,milestonesFilter:i}),width:243}))))};p.defaultProps={noHeader:!1},p.propTypes={data:s.default.array.isRequired,metricsFilter:s.default.string.isRequired,milestonesFilter:s.default.string.isRequired,onMetricsFilter:s.default.func.isRequired,onMilestonesFilter:s.default.func.isRequired,noHeader:s.default.bool,id:s.default.string.isRequired},t.default=p},2369:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(0),n=function(e){return e&&e.__esModule?e:{default:e}}(l),r=function(){return n.default.createElement("div",null)};t.default=r},2370:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(2368),n=function(e){return e&&e.__esModule?e:{default:e}}(l);t.default=n.default},2371:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SiteActualData=t.SiteHistoricalData=t.SiteDataCell=t.SiteActual=t.SiteHistoricalCell=t.SiteCaptionCell=void 0;var n=a(2374),r=l(n),i=a(2377),s=l(i),u=a(2373),d=l(u),o=a(2375),c=l(o),f=a(2376),m=l(f),p=a(2372),y=l(p);t.SiteCaptionCell=r.default,t.SiteHistoricalCell=s.default,t.SiteActual=d.default,t.SiteDataCell=c.default,t.SiteHistoricalData=m.default,t.SiteActualData=y.default},2372:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),r=l(n),i=a(1),s=l(i),u=a(2),d=l(u),o=a(2318),c=a(106),f=a(8),m=a(15),p=a(6),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return r.default.createElement("div",null,r.default.createElement("span",{className:"actual-data-from"},e?(0,c.formatDate)(e):"-"),r.default.createElement("span",{className:"actual-data-icon"},p.Icons.ARROW_RIGHT),r.default.createElement("span",{className:"actual-data-to"},t?(0,c.formatDate)(t):"-"),r.default.createElement("span",{className:"actual-data-week"},r.default.createElement("b",null,t&&e?t.diff(e,"w")+"w":"")))},E=function(e){var t=e.data,a=e.rowIndex,l=e.milestonesFilter,n=t[a],i=n.status,s=n.siv,u=n.fpfv,c=n.lpfv,p=n.study.fp,E=void 0,_=void 0;switch(l){case"siv_fpfv":E=s,_=u;break;case"fpfv_lpfv":E=u,_=c;break;case"fp_siv":default:E=p,_=s}return E=(0,f.getMomentDate)(E),_=(0,f.getMomentDate)(_),r.default.createElement(m.CellGroup,{direction:"row",className:(0,d.default)("actual-data",{completed:i===o.SITE_STATUS.COMPLETED})},r.default.createElement(m.CellGroup,{width:243,className:"data-group"},r.default.createElement(m.Cell,{className:"value-cell"},y(E,_))))};E.propTypes={data:s.default.array.isRequired,rowIndex:s.default.number,milestonesFilter:s.default.oneOf(Object.values(o.MILESTONES_FILTER_FILTER_KEYS)).isRequired},E.defaultProps={rowIndex:-1},t.default=E},2373:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),r=l(n),i=a(1),s=l(i),u=a(15),d=a(2317),o=l(d),c=a(14),f=l(c),m=a(2318),p=function(e){var t=e.milestonesFilter,a=e.onMilestonesFilter;return r.default.createElement(u.CellGroup,null,r.default.createElement(u.Cell,{className:"cell-caption"},r.default.createElement("h3",null,"Actual/Planned")),r.default.createElement(u.Cell,{className:"header-cell"},r.default.createElement("div",null,"Milestones dates")),r.default.createElement(u.CellGroup,{direction:"row",className:"header-group underline"},r.default.createElement(f.default,{overlay:m.MILESTONES_FILTER.find(function(e){return e.key===t}).value},r.default.createElement(u.CellGroup,{width:243,className:"header-group"},r.default.createElement(u.Cell,{className:"header-cell-category",overflow:!0},r.default.createElement(o.default,{selected:t,onSelect:a,options:m.MILESTONES_FILTER}))))))};p.propTypes={milestonesFilter:s.default.string.isRequired,onMilestonesFilter:s.default.func.isRequired},t.default=p},2374:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(0),n=function(e){return e&&e.__esModule?e:{default:e}}(l),r=a(15),i=function(){return n.default.createElement(r.CellGroup,null,n.default.createElement(r.Cell,{className:"cell-caption"},n.default.createElement("h3",null,"Currently browsing study")),n.default.createElement(r.Cell,{className:"header-cell"},n.default.createElement("div",null," ")),n.default.createElement(r.CellGroup,{direction:"row",className:"header-group underline"},n.default.createElement(r.CellGroup,{width:32,fixedWidth:!0,className:"header-group rank"},n.default.createElement(r.Cell,{className:"header-cell-category"},n.default.createElement("div",null,"Chart"))),n.default.createElement(r.CellGroup,{width:74,className:"header-group rank"},n.default.createElement(r.Cell,{className:"header-cell-category"},n.default.createElement("div",null,"Status"))),n.default.createElement(r.CellGroup,{width:111,className:"header-group"},n.default.createElement(r.Cell,{className:"header-cell-category"},n.default.createElement("div",null,"Study I.D.")))))};t.default=i},2375:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),r=l(n),i=a(1),s=l(i),u=a(2),d=l(u),o=a(2318),c=a(15),f=a(6),m=function(e){var t=e.data,a=e.rowIndex,l=t[a],n=l.status,i=l.study_id;return r.default.createElement(c.CellGroup,{direction:"row",className:(0,d.default)("sites-data",{completed:n===o.SITE_STATUS.COMPLETED})},r.default.createElement(c.CellGroup,{width:32,fixedWidth:!0,className:"data-group rank"},r.default.createElement(c.Cell,{className:"value-cell"},r.default.createElement("div",{className:"study-site-icon"},f.Icons.STUDY_SITE),r.default.createElement("div",{className:"study-site-icon clicked"},f.Icons.STUDY_SITE_SELECTED))),r.default.createElement(c.CellGroup,{width:68,className:"data-group rank"},r.default.createElement(c.Cell,{className:"value-cell"},r.default.createElement("div",null,n))),r.default.createElement(c.CellGroup,{width:119,className:"data-group rank"},r.default.createElement(c.Cell,{className:"value-cell"},r.default.createElement("div",null,i))))};m.propTypes={data:s.default.array.isRequired,rowIndex:s.default.number},m.defaultProps={rowIndex:-1},t.default=m},2376:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),r=l(n),i=a(1),s=l(i),u=a(2),d=l(u),o=a(231),c=l(o),f=a(2318),m=a(15),p=function(e){return(0,c.default)(e)?"-":e},y=function(e){var t=e.data,a=e.rowIndex,l=e.metricsFilter,n=t[a],i=n.status,s=n.target_patients,u=n.randomized_patients,o=n.randomization_rate,y=n.screen_failure_rate,E=n.drop_out_rate,_=n[l];return _=(0,c.default)(_)?"-":"median_time_to_query"===l||"median_time_to_entry"===l?Math.round(_)+"d":"query_rate"===l?(100*_).toFixed(2)+"%":(+_).toFixed(2),r.default.createElement(m.CellGroup,{direction:"row",className:(0,d.default)("historical-data",{completed:i===f.SITE_STATUS.COMPLETED})},r.default.createElement(m.CellGroup,{direction:"row",width:104,className:"data-group"},r.default.createElement(m.Cell,{width:44,className:"value-cell align--right"},r.default.createElement("div",null,p(s))),r.default.createElement(m.Cell,{width:44,className:"value-cell align--right"},r.default.createElement("div",null,p(u)))),r.default.createElement(m.CellGroup,{direction:"row",width:161,className:"data-group"},r.default.createElement(m.Cell,{width:32,className:"value-cell align--right"},r.default.createElement("div",null,(0,c.default)(o)?"-":(+o).toFixed(2))),r.default.createElement(m.Cell,{width:32,className:"value-cell align--right"},r.default.createElement("div",null,(0,c.default)(y)?"-":Math.round(100*y)+"%")),r.default.createElement(m.Cell,{width:65,className:"value-cell align--right"},r.default.createElement("div",null,(0,c.default)(E)?"-":(100*E).toFixed(2)+"%"))),r.default.createElement(m.CellGroup,{width:160,className:"data-group"},r.default.createElement(m.Cell,{className:"value-cell align--right"},r.default.createElement("div",null,_))))};y.propTypes={data:s.default.array.isRequired,rowIndex:s.default.number,metricsFilter:s.default.oneOf(Object.values(f.METRICS_FILTER_KEYS)).isRequired},y.defaultProps={rowIndex:-1},t.default=y},2377:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),r=l(n),i=a(1),s=l(i),u=a(15),d=a(2317),o=l(d),c=a(14),f=l(c),m=a(2318),p=function(e){var t=e.metricsFilter,a=e.onMetricsFilter;return r.default.createElement(u.CellGroup,null,r.default.createElement(u.Cell,{className:"cell-caption"},r.default.createElement("h3",null,"Historical")),r.default.createElement(u.CellGroup,{direction:"row",className:"header-group"},r.default.createElement(u.Cell,{width:104,className:"header-cell"},r.default.createElement("div",null,"Patients")),r.default.createElement(u.Cell,{width:161,className:"header-cell"},r.default.createElement("div",null,"Enrolment rates")),r.default.createElement(u.Cell,{width:160,className:"header-cell"},r.default.createElement("div",null,"Ops. metrics"))),r.default.createElement(u.CellGroup,{direction:"row",className:"header-group"},r.default.createElement(u.CellGroup,{width:104,direction:"row",className:"header-group underline"},r.default.createElement(u.Cell,{width:44,className:"header-cell-category"},r.default.createElement("div",null,"Target")),r.default.createElement(u.Cell,{width:44,className:"header-cell-category"},r.default.createElement("div",null,"Rand."))),r.default.createElement(u.CellGroup,{width:161,direction:"row",className:"header-group underline"},r.default.createElement(u.Cell,{width:32,className:"header-cell-category"},r.default.createElement(f.default,{overlay:"patients/site/month"},r.default.createElement("div",null,"RR"))),r.default.createElement(u.Cell,{width:32,className:"header-cell-category"},r.default.createElement(f.default,{overlay:"Screening failure rate"},r.default.createElement("div",null,"SF%"))),r.default.createElement(u.Cell,{width:65,className:"header-cell-category"},r.default.createElement("div",null,"Drop-out%"))),r.default.createElement(f.default,{overlay:m.METRICS_FILTER.find(function(e){return e.key===t}).value},r.default.createElement(u.CellGroup,{width:160,className:"header-group underline"},r.default.createElement(u.Cell,{className:"header-cell-category",overflow:!0},r.default.createElement(o.default,{selected:t,onSelect:a,options:m.METRICS_FILTER}))))))};p.propTypes={metricsFilter:s.default.string.isRequired,onMetricsFilter:s.default.func.isRequired},t.default=p},2378:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),r=l(n),i=a(1),s=l(i),u=a(2),d=l(u),o=a(15),c=function(e){var t=e.rowIndex,a=e.children;return r.default.createElement(o.Row,{className:(0,d.default)("sites-row","site-row-index-"+t)},a)};c.propTypes={children:s.default.node.isRequired,rowIndex:s.default.number},c.defaultProps={rowIndex:-1},t.default=c},2381:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(2382),n=function(e){return e&&e.__esModule?e:{default:e}}(l);t.default=n.default},2382:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),u=a(0),d=l(u),o=a(1),c=l(o),f=a(23),m=a(116),p=a(757),y=a(29),E=a(234),_=(l(E),a(454),a(453)),v=a(191),h=l(v),g=a(6),x=a(14),b=l(x);a(457),a(2475);var w={BLACK:"#000",GREY:"#ededed",DARK_GREY:"#9d9d9d",WHITE:"#FFF",GREEN:"#92c93a",RED:"#ec3508"},C=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={data:t.sortData(e.data),dataRegion:e.dataRegion},a.renderChart=a.renderChart.bind(a),a.handleResize=a.handleResize.bind(a),a.debounced=(0,h.default)(a.renderChart,200),a}return i(t,e),s(t,null,[{key:"sortData",value:function(e){return e.map(function(e){return{screening_rate:+e.norm_screening_rate||0,randomization_rate:+e.norm_randomization_rate||0,screen_failure_rate:+e.norm_screen_failure_rate||0,siv_fpfv:+e.norm_siv_fpfv||0,drop_out_rate:+e.norm_drop_out_rate||0,median_time_to_entry:+e.norm_median_time_to_entry||0,query_rate:+e.norm_query_rate||0,median_time_to_query:+e.norm_median_time_to_query||0,patients_with_ie_protocol_deviation:+e.norm_patients_with_ie_protocol_deviation||0,mvr_issues:+e.norm_mvr_issues||0}})}}]),s(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize),this.renderChart()}},{key:"componentWillReceiveProps",value:function(e){var a=this;this.setState({data:t.sortData(e.data),dataRegion:e.dataRegion},function(){a.renderChart()})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"handleResize",value:function(){this.debounced()}},{key:"renderChart",value:function(){var e=this;(0,f.select)("#svg_wrapper_site-detailed-chart").select(".svg-container").remove();var t=this.state.data,a=this.container,l={top:164,right:190,bottom:119,left:0},n=a.getBoundingClientRect().width-l.left-l.right,r=443-l.top-l.bottom,i=(n-96)/10,s=(0,f.select)("#svg_wrapper_site-detailed-chart"),u=s.append("div").classed("svg-container",!0).append("svg").attr("width",n+l.left+l.right).attr("height",r+l.top+l.bottom);u.append("rect").at({x:-20,y:-20,width:n+l.left+l.right+40,height:r+l.top+l.bottom+40,fill:w.WHITE});var d=u.append("g").attr("transform","translate("+l.left+","+l.top+")"),o=(0,m.scaleLinear)().rangeRound([r,0]),c=(0,m.scaleLinear)().rangeRound([r,0]);o.domain([2,0]),c.domain([0,2]);var E=t.map(function(e){return Object.values(e)}),v=E.reduce(function(e,t){return t.forEach(function(t,a){e[a].push(t)}),e},new Array(10).fill(0).map(function(){return[]})),h=(0,p.line)().x(function(e,t){var a=i*t;return t>=2&&(a+=64),t>=5&&(a+=32),a+i/2}).y(function(e,t){return t<2?e>2?r+12:o(e):e>2?-12:c(e)});d.append("rect").at({width:n,height:r/2}).st({fill:w.RED,opacity:.5}),d.append("rect").at({y:r/4,width:n,height:r/4}).st({fill:w.WHITE,opacity:.5}),d.append("rect").attr("y",r/2).attr("width",n).attr("height",r/2).style("fill",w.GREEN).style("opacity",.5),d.append("rect").attr("y",r/2).attr("width",n).attr("height",r/4).style("fill",w.WHITE).style("opacity",.5),d.append("line").attr("x2",n).attr("y1",r/4).attr("y2",r/4).style("stroke",w.BLACK).style("stroke-width",1).style("opacity",.5),d.append("line").attr("x2",n).attr("y1",r/2).attr("y2",r/2).style("stroke",w.BLACK).style("stroke-width",2).style("opacity",.5),d.append("line").attr("x2",n).attr("y1",r-r/4).attr("y2",r-r/4).style("stroke",w.BLACK).style("stroke-width",1).style("opacity",.5);for(var g=1;g<=9;g+=1)!function(e){2!==e&&5!==e&&d.append("line").attr("x1",function(){var t=i*e;return e>2&&(t+=64),e>=6&&(t+=32),t}).attr("x2",function(){var t=i*e;return e>2&&(t+=64),e>=6&&(t+=32),t}).attr("y2",r).style("stroke",w.WHITE).style("stroke-width",2)}(g);for(var x=0;x<E.length;x+=1)!function(t){d.append("path").data([E[t]]).attr("id","dataset-line_"+t).attr("class","dataset-line").style("display","none").style("opacity",0).attr("d",h);var a=d.selectAll("metric-romb").data(E[t]).enter().append("g").attr("id","metric-romb_"+t).classed("mark-g",!0).attr("transform",function(e,t){var a=i*t;t>=2&&(a+=64),t>=5&&(a+=32),a+=i/2;var l=0;return l=t<2?e>2?r+12:o(e):e>2?-12:c(e),"translate("+(a-12)+","+(l-12)+")"});a.append("defs").append("path").attr("id","a").attr("d","M12 7l5 5-5 5-5-5z");var l=a.append("g").style("opacity",1).attr("class","metric-romb").attr("fill","none").attr("fill-rule","evenodd");l.append("use").attr("fill",w.BLACK).attr("xlink:href","#a"),l.append("path").attr("stroke",w.WHITE).attr("stroke-width",2).attr("d","M12 5.586L18.414 12 12 18.414 5.586 12 12 5.586z");var n=a.append("g").attr("class","metric-romb-hover").style("display","none").attr("transform","rotate(90 18 18), translate(2, 14)");n.append("path").attr("d","M10 2l8 8-8 8L2 10z").style("stroke","black").style("stroke-width","2px").classed("inner-rect",!0).style("fill","#fff"),n.append("path").attr("d","M14 10l-4 4-4-4 4-4z").style("fill",w.BLACK);var s=e.props.hasCurrentStudy&&0===t?"#current .site-row-index-"+t:"#other .site-row-index-"+(t-1),u=(0,f.select)(s),m=function(e){return"clicked"===(0,f.select)(e).attr("data-clicked")},p=function(){m("#dataset-line_"+t)?((0,f.selectAll)(".dataset-line").style("display",null).attr("data-clicked",null).transition().duration(100).ease(_.easeLinear).style("opacity",0),n.style("display","none"),(0,f.selectAll)(".metric-romb").style("opacity",1),(0,f.select)(s).classed("selected",!1).style("background","none"),(0,f.select)("#active-study-shown").text("")):((0,f.selectAll)(".dataset-line").style("display",null).attr("data-clicked",null).transition().duration(100).ease(_.easeLinear).style("opacity",function(e,a){return a===t?((0,f.select)("#dataset-line_"+t).attr("data-clicked","clicked"),1):0}),(0,f.selectAll)(".metric-romb-hover").style("display","none"),n.style("display",null).transition().duration(1e3).ease(_.easeLinear).style("opacity",1),(0,f.selectAll)(".metric-romb").style("opacity",1),(0,f.selectAll)(".sites-row").classed("selected",!1).style("background","none"),(0,f.select)(s).classed("selected",!0).style("background",w.GREY),(0,f.select)("#active-study-shown").text("Study shown: "+(e.props.data[t]?e.props.data[t].study_id:"-")))},y=function(){m("#dataset-line_"+t)||((0,f.select)("#dataset-line_"+t).style("display",null).transition().duration(100).ease(_.easeLinear).style("opacity",.5),n.style("display",null).transition().duration(100).ease(_.easeLinear).style("opacity",.5),(0,f.selectAll)(".metric-romb").style("opacity",function(e,a){return a!==t?.2:.5}),(0,f.select)(s).classed("selected",!0).style("background",w.GREY),(0,f.select)("#active-study-shown").text("Study shown: "+(e.props.data[t]?e.props.data[t].study_id:"-")))},v=function(){m("#dataset-line_"+t)||((0,f.select)("#dataset-line_"+t).transition().duration(100).ease(_.easeLinear).style("opacity",0),n.style("display","none"),(0,f.selectAll)(".metric-romb").style("opacity",1),(0,f.select)(s).classed("selected",!1).style("background","none"),(0,f.select)("#active-study-shown").text(""))};a.on("click",p),u.on("click",p),a.on("mouseover",y),u.on("mouseover",y),a.on("mouseout",v),u.on("mouseout",v)}(x);d.append("rect").attr("x",5*i+64).attr("width",32).attr("height",r).style("fill",w.WHITE).style("opacity",.5);var b=d.append("g").attr("transform","translate("+2*i+")");b.append("rect").attr("width",64).attr("height",r).style("fill",w.WHITE).style("opacity",.5);var C=b.append("g").attr("transform","translate(0, "+(r/2-14)+")");C.append("rect").attr("width",64).attr("height",28),C.append("polygon").attr("points","7.5,0, 7.5,10, 0,5").attr("transform","translate(-6.5, 9)"),C.append("polygon").attr("points","0,0 7.5,5 0,10").attr("transform","translate(63, 9)"),C.append("text").attr("text-anchor","middle").attr("x",32).attr("y",19).style("fill",w.WHITE).text("1");var F=b.selectAll("left-label").data([0,.5,1.5,2]).enter().append("g").attr("transform",function(e,t){return t<2?"translate(0, "+(t*(r/4)-14)+")":"translate(0, "+((t+1)*(r/4)-14)+")"});F.append("polygon").attr("points","0,0 28,0 28,28 0,28 0,19 -5,14 0,9 0,0").style("fill",w.WHITE).style("stroke",w.BLACK).style("stroke-widht",1),F.append("text").attr("text-anchor","middle").attr("x",14).attr("y",19).text(function(e){return e});var I=b.selectAll("right-label").data([2,1.5,.5,0]).enter().append("g").attr("transform",function(e,t){return t<2?"translate(36, "+(t*(r/4)-14)+")":"translate(36, "+((t+1)*(r/4)-14)+")"});I.append("polygon").attr("points","0,0 28,0 28,9 33,14 28,19 28,28 0,28 0,0").style("fill",w.WHITE).style("stroke",w.BLACK).style("stroke-widht",1),I.append("text").attr("text-anchor","middle").attr("x",14).attr("y",19).text(function(e){return e});var N=d.append("g").attr("transform","translate("+n+")");N.append("line").at({x1:26,x2:50,y1:0,y2:0}).st({stroke:w.BLACK,strokeWidth:1,opacity:.5}),N.append("line").at({x1:26,x2:50,y1:r/4,y2:r/4}).st({stroke:w.BLACK,strokeWidth:1,opacity:.5}),N.append("line").at({x1:26,x2:50,y1:r/2,y2:r/2}).st({stroke:w.BLACK,strokeWidth:2,opacity:1}),N.append("line").at({x1:26,x2:50,y1:r-r/4,y2:r-r/4}).st({stroke:w.BLACK,strokeWidth:1,opacity:.5}),N.append("line").at({x1:26,x2:50,y1:r,y2:r}).st({stroke:w.BLACK,strokeWidth:1,opacity:.5});var S=["Average","normalized","performance"];N.selectAll("average-label-text").data(S).enter().append("g").append("text").attr("x",80).attr("y",64).attr("dy",function(e,t){return 18*t}).style("fill",w.BLACK).style("font-weight",500).text(function(e){return e});var R=d.append("g").translate([0,-114]);R.append("text").at({fontSize:20,fontWeight:"bold"}).text("Enrollment Metrics (Historical)"),R.append("line").at({stroke:w.BLACK,strokeWidth:2,y1:18,y2:18}).attr("x2",function(){return 5*i+64}),R.append("text").at({fontSize:12,y:34,id:"active-study-shown"}).text("");var T=d.append("g").translate([5*i+96,-114]);T.append("text").at({fontSize:20,fontWeight:"bold"}).text("Operational Metrics (Historical)"),T.append("line").at({stroke:w.BLACK,strokeWidth:2,y1:18,y2:18}).attr("x2",function(){return 5*i});var O=[["SR"],["RR"],["SF"],["SIV-FPFV"],["Drop-out","rate"]],M=d.append("g");O.forEach(function(e,t){M.selectAll("enr-col-title_"+t).data(e).enter().append("text").at({y:-52,fontSize:14,fill:w.DARK_GREY}).attr("x",function(){var e=i*t;return t>=2&&(e+=64),e}).attr("dy",function(e,t){return 18*t}).text(function(e){return e})});var k=[["Med. time","to entry"],["Query","rate"],["Med. time","to query"],["Patients","w/I/E p.dev."],["MVR","Issues"]],P=d.append("g").translate([5*i+96,1]);k.forEach(function(e,t){P.selectAll("oper-col-title_"+t).data(e).enter().append("text").at({x:i*t,y:-52,fontSize:14,fill:w.DARK_GREY}).attr("dy",function(e,t){return 18*t}).text(function(e){return e})});var A=["pt/site/mo","pt/site/mo","pt/site/mo","weeks","weeks","days","queries/CRF","days","of pt.rand.","total issues/t"],j=v.map(function(e,t){var a=(0,y.extent)(e);return{min:+a[0].toFixed(2),max:+a[1].toFixed(2),unit:A[t]}}),D=d.selectAll("col-legend").data(j).enter().append("g").translate([0,r+54]);D.append("text").at({fontSize:18,fontWeight:500,fill:w.BLACK}).attr("x",function(e,t){var a=i*t;return t>=2&&(a+=64),t>=5&&(a+=32),a}).text(function(e){return e.min+"-"+e.max}),D.append("text").at({fontSize:12,fill:w.BLACK}).attr("x",function(e,t){var a=i*t;return t>=2&&(a+=64),t>=5&&(a+=32),a}).attr("dy",18).text(function(e){return e.unit}),d.append("line").translate([0,-24]).at({stroke:w.DARK_GREY,strokeWidth:1,x2:5*i+64}),d.append("line").translate([0,r+24]).at({stroke:w.DARK_GREY,strokeWidth:1,x2:5*i+64}),d.append("line").translate([5*i+96,-24]).at({stroke:w.DARK_GREY,strokeWidth:1,x2:5*i}),d.append("line").translate([5*i+96,r+24]).at({stroke:w.DARK_GREY,strokeWidth:1,x2:5*i})}},{key:"render",value:function(){var e=this;return d.default.createElement("div",{ref:function(t){e.container=t},className:"svg-wrapper",id:"svg_wrapper_site-detailed-chart"},d.default.createElement("div",{className:"site-detailed-chart__context-help"},d.default.createElement(b.default,{mouseEnterDelay:.3,align:{offset:[0,0]},placement:"bottomLeft",overlay:d.default.createElement("span",null,"Relative performance ",d.default.createElement("br",null),"against other sites in ",d.default.createElement("br",null),this.state.dataRegion.name," across studies. ",d.default.createElement("br",null),"Metrics for this site ",d.default.createElement("br",null),"is normalized using ",d.default.createElement("br",null),"the median value for ",d.default.createElement("br",null),"other sites in the studies.")},g.Icons.INFO_Q)))}}]),t}(d.default.Component);C.propTypes={data:c.default.arrayOf(c.default.shape({study_id:c.default.string,randomized_patients:c.default.oneOfType([c.default.string,c.default.number]),randomization_rate:c.default.oneOfType([c.default.string,c.default.number]),screen_failure_rate:c.default.oneOfType([c.default.string,c.default.number]),siv_fpfv:c.default.oneOfType([c.default.string,c.default.number]),drop_out_rate:c.default.oneOfType([c.default.string,c.default.number]),query_rate:c.default.oneOfType([c.default.string,c.default.number]),median_time_to_query:c.default.oneOfType([c.default.string,c.default.number]),patients_with_ie_protocol_deviation:c.default.oneOfType([c.default.string,c.default.number]),mvr_issues:c.default.oneOfType([c.default.string,c.default.number])})).isRequired,dataRegion:c.default.object,hasCurrentStudy:c.default.bool},C.defaultProps={dataRegion:{},hasCurrentStudy:!0},t.default=C},2383:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PiDetailsPage=void 0;var n=a(2385),r=l(n),i=a(2384),s=l(i);t.PiDetailsPage=s.default,t.default=r.default},2384:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),r=l(n),i=a(12),s=l(i),u=a(1),d=l(u),o=a(17),c=a(450),f=a(2387),m=l(f),p=a(96),y=a(2342),E=l(y);a(2363);var _=function(e){var t=e.data,a=e.currentStudy,l=e.siteId;return r.default.createElement("div",{className:"site-details-page__wrapper"},r.default.createElement(o.Grid,null,r.default.createElement(o.Row,null,r.default.createElement(o.Col,{offset:1,width:4},r.default.createElement(c.FlexItem,{className:"site-details-column__title"},r.default.createElement("h3",null,"General information")),r.default.createElement(c.FlexBox,{justifyContent:"space-between",className:"site-details-item"},r.default.createElement(c.FlexItem,null,"Name"),r.default.createElement(c.FlexItem,null,t.name||"n/a")),r.default.createElement(c.FlexBox,{justifyContent:"space-between",className:"site-details-item"},r.default.createElement(c.FlexItem,null,"Primary organization name"),r.default.createElement(c.FlexItem,null,t.primary_org_name||"n/a")),r.default.createElement(c.FlexBox,{justifyContent:"space-between",className:"site-details-item"},r.default.createElement(c.FlexItem,null,"Emails"),r.default.createElement(c.FlexItem,null,t.emails||"n/a")),r.default.createElement(c.FlexBox,{justifyContent:"space-between",className:"site-details-item"},r.default.createElement(c.FlexItem,null,"Specialities"),r.default.createElement(c.FlexItem,null,t.specialities||"n/a")),r.default.createElement(c.FlexBox,{justifyContent:"space-between",className:"site-details-item"},r.default.createElement(c.FlexItem,null,"Last regulatory action"),r.default.createElement(c.FlexItem,null,t.last_regulatory_action||"n/a")),r.default.createElement(c.FlexBox,{justifyContent:"space-between",className:"site-details-item"},r.default.createElement(c.FlexItem,null,"Last regulatory action date"),r.default.createElement(c.FlexItem,null,(0,p.getFormattedDate)(t.last_regulatory_action_date)||"n/a")),r.default.createElement(c.FlexBox,{justifyContent:"space-between",className:"site-details-item"},r.default.createElement(c.FlexItem,null,"Total number of active studies"),r.default.createElement(c.FlexItem,null,t.PI_num_studies_active_total||"n/a")),r.default.createElement(c.FlexBox,{justifyContent:"space-between",className:"site-details-item"},r.default.createElement(c.FlexItem,null,"Investigator patient count"),r.default.createElement(c.FlexItem,null,t.Investigator_patient_count||"n/a")),r.default.createElement(c.FlexBox,{justifyContent:"space-between",className:"site-details-item"},r.default.createElement(c.FlexItem,null,"Clinical experience score"),r.default.createElement(c.FlexItem,null,t.clinical_experience_score||"n/a")),r.default.createElement(c.FlexBox,{justifyContent:"space-between",className:"site-details-item"},r.default.createElement(c.FlexItem,null,"Publication count"),r.default.createElement(c.FlexItem,null,t.publication_count||"n/a"))),r.default.createElement(o.Col,{width:4},r.default.createElement(c.FlexItem,{className:"site-details-column__title"},r.default.createElement("h3",null,"History")),r.default.createElement(c.FlexBox,{justifyContent:"space-between",className:"site-details-item"},r.default.createElement(c.FlexItem,null,"Has internal experience"),r.default.createElement(c.FlexItem,null,(0,E.default)(t.PI_has_internal_experience))),r.default.createElement(c.FlexBox,{justifyContent:"space-between",className:"site-details-item"},r.default.createElement(c.FlexItem,null,"Has pediatric experience"),r.default.createElement(c.FlexItem,null,(0,E.default)(t.has_pediatric_exp))),r.default.createElement(c.FlexBox,{justifyContent:"space-between",className:"site-details-item"},r.default.createElement(c.FlexItem,null,"Has adolescent experience"),r.default.createElement(c.FlexItem,null,(0,E.default)(t.has_adolescent_exp))),r.default.createElement(c.FlexBox,{justifyContent:"space-between",className:"site-details-item"},r.default.createElement("span",null,"Number of internal Novartis studies within the indication completed")),r.default.createElement(c.FlexBox,{justifyContent:"space-between",className:"site-details-item"},r.default.createElement(c.FlexItem,{className:"history-list-padding"},"- last year"),r.default.createElement(c.FlexItem,null,(0,s.default)(a,"PI_num_studies_complete_in_fpo2mi_1y","n/a"))),r.default.createElement(c.FlexBox,{justifyContent:"space-between",className:"site-details-item"},r.default.createElement(c.FlexItem,{className:"history-list-padding"},"- last 3 years"),r.default.createElement(c.FlexItem,null,(0,s.default)(a,"PI_num_studies_complete_in_fpo2mi_3y","n/a"))),r.default.createElement(c.FlexBox,{justifyContent:"space-between",className:"site-details-item"},r.default.createElement(c.FlexItem,{className:"history-list-padding"},"- last 5 years"),r.default.createElement(c.FlexItem,null,(0,s.default)(a,"PI_num_studies_complete_in_fpo2mi_1y","n/a"))))),r.default.createElement(o.Row,{className:"secondary-row"},r.default.createElement(o.Col,{offset:1,width:8},r.default.createElement(c.FlexItem,{className:"site-details-column__title"},r.default.createElement("h3",null,"Disease hierarchy")),r.default.createElement(c.FlexBox,{justifyContent:"space-between"},r.default.createElement(m.default,{siteId:l}))))))};_.defaultProps={data:{},currentStudy:{}},_.propTypes={data:d.default.object,currentStudy:d.default.object,siteId:d.default.string.isRequired},t.default=_},2385:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),r=l(n),i=a(1),s=l(i),u=a(12),d=l(u),o=a(17),c=a(450),f=a(2342),m=l(f);a(2363);var p=function(e){var t=e.data,a=e.currentStudy;return r.default.createElement("div",{className:"site-details-page__wrapper"},r.default.createElement(o.Grid,null,r.default.createElement(o.Row,null,r.default.createElement(o.Col,{offset:1,width:4},r.default.createElement(c.FlexItem,{className:"site-details-column__title"},r.default.createElement("h3",null,"General information")),r.default.createElement(c.FlexBox,{justifyContent:"space-between",className:"site-details-item"},r.default.createElement(c.FlexItem,null,"Name"),r.default.createElement(c.FlexItem,null,t.name||"n/a")),r.default.createElement(c.FlexBox,{justifyContent:"space-between",className:"site-details-item"},r.default.createElement(c.FlexItem,null,"Total sites in country"),r.default.createElement(c.FlexItem,null,t.sitesInCountry||"n/a")),r.default.createElement(c.FlexBox,{justifyContent:"space-between",className:"site-details-item"},r.default.createElement(c.FlexItem,null,"Address"),r.default.createElement(c.FlexItem,null,t.address||"n/a")),r.default.createElement(c.FlexBox,{justifyContent:"space-between",className:"site-details-item"},r.default.createElement(c.FlexItem,null,"City name"),r.default.createElement(c.FlexItem,null,t.city_name||"n/a")),r.default.createElement(c.FlexBox,{justifyContent:"space-between",className:"site-details-item"},r.default.createElement(c.FlexItem,null,"Postcode"),r.default.createElement(c.FlexItem,null,t.post_code||"n/a")),r.default.createElement(c.FlexBox,{justifyContent:"space-between",className:"site-details-item"},r.default.createElement(c.FlexItem,null,"Phones"),r.default.createElement(c.FlexItem,null,t.phones||"n/a"))),r.default.createElement(o.Col,{width:4},r.default.createElement(c.FlexItem,{className:"site-details-column__title"},r.default.createElement("h3",null,"History")),r.default.createElement(c.FlexBox,{justifyContent:"space-between",className:"site-details-item"},r.default.createElement(c.FlexItem,null,"Has internal experience"),r.default.createElement(c.FlexItem,null,(0,m.default)(t.center_has_internal_experience))),r.default.createElement(c.FlexBox,{justifyContent:"space-between",className:"site-details-item"},r.default.createElement(c.FlexItem,null,"Has pediatric experience"),r.default.createElement(c.FlexItem,null,(0,m.default)(t.has_pediatric_exp))),r.default.createElement(c.FlexBox,{justifyContent:"space-between",className:"site-details-item"},r.default.createElement(c.FlexItem,null,"Has adolescent experience"),r.default.createElement(c.FlexItem,null,(0,m.default)(t.has_adolescent_exp))),r.default.createElement(c.FlexBox,{justifyContent:"space-between",className:"site-details-item"},r.default.createElement("span",null,"Number of internal Novartis studies within the indication completed")),r.default.createElement(c.FlexBox,{justifyContent:"space-between",className:"site-details-item"},r.default.createElement(c.FlexItem,{className:"history-list-padding"},"- last year"),r.default.createElement(c.FlexItem,null,(0,d.default)(a,"center_num_studies_complete_in_fpo2mi_1y","n/a"))),r.default.createElement(c.FlexBox,{justifyContent:"space-between",className:"site-details-item"},r.default.createElement(c.FlexItem,{className:"history-list-padding"},"- last 3 years"),r.default.createElement(c.FlexItem,null,(0,d.default)(a,"center_num_studies_complete_in_fpo2mi_3y","n/a"))),r.default.createElement(c.FlexBox,{justifyContent:"space-between",className:"site-details-item"},r.default.createElement(c.FlexItem,{className:"history-list-padding"},"- last 5 years"),r.default.createElement(c.FlexItem,null,(0,d.default)(a,"center_num_studies_complete_in_fpo2mi_5y","n/a")))))))};p.defaultProps={data:{},currentStudy:{}},p.propTypes={data:s.default.object,currentStudy:s.default.object},t.default=p},2386:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),r=l(n),i=a(1),s=l(i);a(2364);var u=function(e){var t=e.diseaseHierarchy;return r.default.createElement("div",{className:"disease-hierarchy-container"},t)};u.propTypes={diseaseHierarchy:s.default.array},u.defaultProps={diseaseHierarchy:[]},t.default=u},2387:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),r=l(n),i=a(47),s=a(12),u=l(s),d=a(7),o=a(2),c=l(o),f=a(2386),m=l(f);a(2364);var p=function(e,t){return e.site[t]},y=(0,i.createSelector)(p,function(e){var t=(0,u.default)(e,"siteData.PI.disease_hierarchy")||[];return Array.isArray(t)?t.reduce(function(e,t){var a=t.split(":"),l=20*(a.length-1);return e.push(r.default.createElement("div",{className:(0,c.default)({"disease-root-item":1===a.length,diseaseItem:1!==a.length}),style:{paddingLeft:l+"px"},key:t},a[a.length-1])),e},[]):r.default.createElement("div",null,r.default.createElement("h4",null,"Unable to transform hierarchy to readable format"),t)}),E=function(e,t){return{diseaseHierarchy:y(e,t.siteId)}};t.default=(0,d.connect)(E,{})(m.default)},2390:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},i=a(0),s=l(i),u=a(1),d=l(u),o=a(7),c=a(758),f=a(129),m=l(f),p=a(45),y=l(p),E=a(54),_=l(E),v=a(12),h=l(v),g=a(17),x=a(2327),b=l(x),w=a(2381),C=l(w),F=a(2370),I=l(F),N=a(2383),S=l(N),R=a(44),T=a(2330),O=l(T),M=a(53),k=a(63),P=a(756),A=a(750),j=a(28),D=a(310),L=a(312);a(2477);var q=(0,m.default)(A.getHeaderData,y.default),B=function(e){var t=e.studyId,a=e.scenarioId,l=e.countryId,r=e.siteId,u=e.metricsFilter,d=e.milestonesFilter,o=e.headerData,f=e.hasSiteData,m=e.getSite,p=e.setMetricsFilter,y=e.setMilestonesFilter,E=e.siteData,_=e.studies_by_site,v=e.handleSiteAction,x=e.sitesItem,w=e.isEditable,F=e.currentIndication,T=e.currentStudy,M=e.otherStudies,k=e.dataType,P=E.platformCountry,A=void 0===P?{}:P;return(0,i.useEffect)(function(){f||m(t,a,r)},[m,t,a,r,f]),s.default.createElement("div",{className:"country-sites-container"},s.default.createElement(g.Grid,null,s.default.createElement(g.Row,null,s.default.createElement(g.Col,{offset:1,width:10},s.default.createElement(b.default,{dataHeader:o})),s.default.createElement(g.Col,{width:1},w?s.default.createElement("div",{className:"country-site-action-button__wrapper"},s.default.createElement(O.default,{dataType:k,rowData:x,onSubmit:function(e,t,n,r){v(a,l,t,e,n,r)},isEditable:w})):s.default.createElement("div",null)))),s.default.createElement(c.Tabs,{selectedTabClassName:"country-sites__tab-active"},s.default.createElement(g.Grid,null,s.default.createElement(g.Row,null,s.default.createElement(g.Col,{offset:1,width:11},s.default.createElement(c.TabList,{className:"country-sites__tabs-wrapper"},s.default.createElement(c.Tab,{className:"country-sites__tab"},"Site history"),s.default.createElement(c.Tab,{className:"country-sites__tab"},"Primary investigator details"),s.default.createElement(c.Tab,{className:"country-sites__tab"},"Primary center details"))))),s.default.createElement(c.TabPanel,null,s.default.createElement(g.Grid,null,s.default.createElement(g.Row,null,s.default.createElement(g.Col,{offset:1,width:11},_&&_.length>0?s.default.createElement(s.default.Fragment,null,s.default.createElement(C.default,{hasCurrentStudy:T.length>0,data:[].concat(n(T),n(M)),dataRegion:(0,h.default)(A,"region")}),s.default.createElement(I.default,{id:"current",data:T,metricsFilter:u,onMetricsFilter:p,milestonesFilter:d,onMilestonesFilter:y}),s.default.createElement("h3",null,"Other studies for the site"),s.default.createElement(I.default,{id:"other",noHeader:!0,data:M,metricsFilter:u,onMetricsFilter:p,milestonesFilter:d,onMilestonesFilter:y})):s.default.createElement("section",{className:"country-sites-table__separator"},"Site has no Novartis experience within ",F," indication"))))),s.default.createElement(c.TabPanel,null,s.default.createElement(N.PiDetailsPage,{data:E.PI,currentStudy:T[0],siteId:r})),s.default.createElement(c.TabPanel,null,s.default.createElement(S.default,{data:E,currentStudy:T[0]}))),s.default.createElement(R.ContextHelpButton,{page:"site-details"}))};B.propTypes={getSite:d.default.func.isRequired,siteId:d.default.string.isRequired,studyId:d.default.oneOfType([d.default.number,d.default.string]).isRequired,scenarioId:d.default.oneOfType([d.default.number,d.default.string]).isRequired,countryId:d.default.oneOfType([d.default.number,d.default.string]).isRequired,siteData:d.default.object,sitesItem:d.default.object,studies_by_site:d.default.array,metricsFilter:d.default.string.isRequired,milestonesFilter:d.default.string.isRequired,headerData:d.default.array.isRequired,hasSiteData:d.default.bool,setMetricsFilter:d.default.func.isRequired,setMilestonesFilter:d.default.func.isRequired,handleSiteAction:d.default.func.isRequired,isEditable:d.default.bool,currentIndication:d.default.string,currentStudy:d.default.array,otherStudies:d.default.array,dataType:d.default.string},B.defaultProps={hasSiteData:!1,siteData:{},studies_by_site:[],sitesItem:{},isEditable:!1,currentIndication:"-",currentStudy:[],otherStudies:[],dataType:"NONE"};var G=function(e,t){var a=t.match.params,l=a.scenarioId,n=a.id,i=a.countryId,s=a.siteId,u=(0,j.getRouteMatch)(t),d=(0,k.getStudyData)(e,u),o=(0,M.getScenarioData)(e,u),c=(0,M.getActiveCountry)(e,u),f=!!e.site[s],m=e.site[s],p=e.sites[l]&&e.sites[l][i]&&e.sites[l][i].find(function(e){return e.investigator_center_id===s}),y=(0,h.default)(c,"country_sites_approval_status.status",L.COUNTRY_SITE_APPROVAL_STATUS.NOT_READY_TO_LOCAL_MANAGE),E=(0,P.getSiteDataType)(p);return r({},(0,P.getFilteredStudies)(e,u),m,{sitesItem:p,hasSiteData:f,dataType:E,headerData:q((0,_.default)(d,["therapeutic_area","indication","state"]),c,r({},m,p)),studyId:+n,scenarioId:+l,countryId:+i,siteId:s,currentIndication:d.indication,metricsFilter:e.site.metricsFilter,milestonesFilter:e.site.milestonesFilter,isEditable:e.sites.editableCountriesIds&&e.sites.editableCountriesIds.includes(+i)&&y===L.COUNTRY_SITE_APPROVAL_STATUS.READY_TO_LOCAL_MANAGE&&(0,h.default)(o,"site_selection_required")})},H={getSite:D.getCountrySite,setMetricsFilter:D.setSiteMetricsFilter,setMilestonesFilter:D.setSiteMilestonesFilter,handleSiteAction:D.onSiteAction};t.default=(0,o.connect)(G,H)(B)},2427:function(e,t,a){t=e.exports=a(3)(void 0),t.push([e.i,"",""])},2429:function(e,t,a){t=e.exports=a(3)(void 0),t.push([e.i,"",""])},2430:function(e,t,a){t=e.exports=a(3)(void 0),t.push([e.i,"",""])},2431:function(e,t,a){t=e.exports=a(3)(void 0),t.push([e.i,"",""])},2433:function(e,t,a){t=e.exports=a(3)(void 0),t.push([e.i,"",""])},2473:function(e,t,a){var l=a(2427);"string"==typeof l&&(l=[[e.i,l,""]]);var n={singleton:!0};n.transform=void 0,a(4)(l,n),l.locals&&(e.exports=l.locals)},2475:function(e,t,a){var l=a(2429);"string"==typeof l&&(l=[[e.i,l,""]]);var n={singleton:!0};n.transform=void 0,a(4)(l,n),l.locals&&(e.exports=l.locals)},2477:function(e,t,a){var l=a(2433);"string"==typeof l&&(l=[[e.i,l,""]]);var n={singleton:!0};n.transform=void 0,a(4)(l,n),l.locals&&(e.exports=l.locals)}});
webpackJsonp([1],{2305:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(2393),r=function(e){return e&&e.__esModule?e:{default:e}}(l);t.default=r.default},2314:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CountryDataContext=void 0;var r=a(0),n=l(r),i=a(1),s=l(i),u=t.CountryDataContext=(0,r.createContext)([]),d=function(e){var t=e.data,a=e.hasSitesWithTrackingData,l=e.studyId,r=e.scenarioId,i=e.countryId,s=e.children,d=t.find(function(e){return"country"===e.type&&e.platform_country_id===i}),o={countryPlannedData:d,hasSitesWithTrackingData:a,studyId:l,scenarioId:r,countryId:i};return n.default.createElement(u.Provider,{value:o},s)};d.defaultProps={data:[],hasSitesWithTrackingData:!1},d.propTypes={data:s.default.array,hasSitesWithTrackingData:s.default.bool,studyId:s.default.number.isRequired,scenarioId:s.default.number.isRequired,countryId:s.default.number.isRequired,children:s.default.node.isRequired},t.default=d},2317:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(2328),r=function(e){return e&&e.__esModule?e:{default:e}}(l);t.default=r.default},2320:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var a=[],l=!0,r=!1,n=void 0;try{for(var i,s=e[Symbol.iterator]();!(l=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);l=!0);}catch(e){r=!0,n=e}finally{try{!l&&s.return&&s.return()}finally{if(r)throw n}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=a(0),i=l(n),s=a(1),u=l(s),d=a(2),o=l(d),c=a(2329),f=l(c),m=function(e){var t=e.onSubmit,a=e.setMultieditView,l=e.dataType,s=e.handleCancel,u=(0,n.useState)(null),d=r(u,2),c=d[0],m=d[1];return i.default.createElement("div",{className:(0,o.default)("sites-multiedit-panel",{selected:"NONE"!==l})},"NONE"!==l&&i.default.createElement(f.default,{tab:1,onBackClick:function(){},onCommentChange:function(){},status:"SELECTED"===l?"REMOVE":"ADD",reason:c,setReason:m,handleSubmit:function(){return t("SELECTED"===l?"REMOVE":"ADD",c)},handleCancel:function(){s?s():a("NONE")}}))};m.defaultProps={handleCancel:null},m.propTypes={onSubmit:u.default.func.isRequired,setMultieditView:u.default.func.isRequired,dataType:u.default.oneOf(["SELECTED","OTHER","RAW","HEADER","NONE","EXTERNAL"]).isRequired,handleCancel:u.default.func},t.default=m},2326:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var l in e)t.indexOf(l)>=0||Object.prototype.hasOwnProperty.call(e,l)&&(a[l]=e[l]);return a}Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=l(n),s=a(1),u=l(s),d=a(2),o=l(d),c=a(82),f=l(c);a(2339);var m=function(e){var t=r(e,[]),a=t.dataHeader,l=t.children;return i.default.createElement("div",{className:"country-sites-header-container"},i.default.createElement("div",{className:"country-sites-header"},a.map(function(e,t){return i.default.createElement(i.default.Fragment,{key:"frg-"+t},i.default.createElement("div",{key:"ind-"+t},i.default.createElement("div",{className:(0,o.default)("sites-count",{"has-separator":e.isSeparator})},i.default.createElement("div",{className:"name"},e.title),i.default.createElement("div",{className:(0,o.default)("value",{selected:e.isSelected,active:e.active})},e.value))),e.isSeparator?i.default.createElement(f.default,{className:"separator",size:"large",key:"sep-"+t}):null)}),l))};m.propTypes={title:u.default.string,value:u.default.string},m.defaultProps={title:"",value:"",isSeparator:!1},t.default=m},2327:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(2326),r=function(e){return e&&e.__esModule?e:{default:e}}(l);t.default=r.default},2328:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),u=a(0),d=l(u),o=a(1),c=l(o),f=a(2),m=l(f),p=a(65),E=l(p);a(2340);var v=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={selected:a.props.selected,opened:!1},a.onSelect=a.onSelect.bind(a),a.toggleOpen=a.toggleOpen.bind(a),a}return i(t,e),s(t,[{key:"onSelect",value:function(e,t){this.setState({selected:e}),this.props.onSelect(e,t),this.toggleOpen()}},{key:"toggleOpen",value:function(){var e=this;this.setState(function(t){return e.props.onStatusChange&&e.props.onStatusChange(!t.opened),{opened:!t.opened}})}},{key:"handleClickOutside",value:function(){this.state.opened&&this.toggleOpen()}},{key:"render",value:function(){var e=this,t=this.props,a=t.readOnly,l=t.disabled,r=this.props.options.map(function(t){return d.default.createElement("div",{className:(0,m.default)("option",{selected:t.key===e.state.selected,"read-only":a}),key:t.key,onClick:function(){return!a&&e.onSelect(t.key,t.value)}},t.value)}),n=this.props.options.find(function(t){return t.key===e.state.selected});return d.default.createElement("div",{className:(0,m.default)("dropdown",{opened:this.state.opened,disabled:l})},d.default.createElement("div",{className:"selected-option",onClick:this.toggleOpen},this.props.staticLabel||n&&n.value||""),d.default.createElement("div",{className:"options"},r))}}]),t}(u.Component);v.defaultProps={selected:"",onStatusChange:void 0,staticLabel:null,readOnly:!1,disabled:!1},v.propTypes={options:c.default.array.isRequired,selected:c.default.string,onSelect:c.default.func.isRequired,onStatusChange:c.default.func,staticLabel:c.default.string,readOnly:c.default.bool,disabled:c.default.bool},t.default=(0,E.default)(v)},2329:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},i=a(0),s=l(i),u=a(1),d=l(u),o=a(2),c=l(o),f=a(7),m=a(61),p=l(m),E=a(313),v=l(E),h=a(73),g={ADD:h.ADD,REMOVE:h.REMOVE},S=function(){},_=function(e){var t=e.status,a=e.reason,l=e.setReason,i=e.handleCancel,u=e.handleSubmit,d=e.reasons,o={};d.filter(function(e){return e.action===t&&e.is_active}).forEach(function(e){var t=o[e.group_name];t?t.items=n({},t.items,r({},e.id,e.text)):o[e.group_name]={title:e.group_name,items:r({},e.id,e.text)}});var f=Object.keys(o).map(function(e){var t=o[e],r=Object.keys(t.items).map(function(e){return s.default.createElement("div",{key:e,className:(0,c.default)("reasons-list-item",{active:a===e}),onClick:function(){return l(e)}},s.default.createElement(v.default,{checked:a===e,value:e,onChange:S,name:"reason",label:""}),s.default.createElement("div",{className:"reasons-list-item__label"},t.items[e]))});return s.default.createElement("div",{key:t.title},s.default.createElement("h4",null,t.title,":"),s.default.createElement("div",null,r))});return s.default.createElement(s.default.Fragment,null,s.default.createElement("h3",null,"Set reason to "+g[t].toLowerCase()),s.default.createElement("div",{className:"action-cell-popup-menu__options",onScroll:function(e){return e.stopPropagation()}},f),s.default.createElement("div",{className:"action-cell-popup-menu__control"},s.default.createElement(p.default,{label:h.CANCEL,type:"transparent",onClick:i}),s.default.createElement(p.default,{label:g[t],type:"primary",onClick:u,disabled:!a})))},y=function(e){return{reasons:e.sites.siteEditReasons}};_.defaultProps={status:"REMOVE",reason:null,tab:1,reasons:[]},_.propTypes={status:d.default.string,reason:d.default.string,setReason:d.default.func.isRequired,handleCancel:d.default.func.isRequired,handleSubmit:d.default.func.isRequired,reasons:d.default.array},t.default=(0,f.connect)(y)(_)},2330:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var a=[],l=!0,r=!1,n=void 0;try{for(var i,s=e[Symbol.iterator]();!(l=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);l=!0);}catch(e){r=!0,n=e}finally{try{!l&&s.return&&s.return()}finally{if(r)throw n}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=a(0),i=l(n),s=a(1),u=l(s),d=a(2),o=l(d),c=a(12),f=l(c),m=a(14),p=l(m),E=a(6),v=a(2320),h=l(v),g=a(750),S=a(73);a(2341);var _={ADD:S.ADD,REMOVE:S.REMOVE},y=function(e){var t=e.rowData,a=e.onSubmit,l=e.isEditable,s=e.dataType,u=(0,g.getActionType)(t),d=(0,n.useRef)(),c=(0,n.useRef)(),m=(0,n.useState)(!1),v=r(m,2),S=v[0],y=v[1],C=(0,n.useCallback)(function(){y(!1)},[]),b=(0,n.useCallback)(function(e,l){a(u,t.investigator_center_id,l),C()},[a,t.investigator_center_id,C,u]),w=(0,n.useCallback)(function(e){e.target&&(e.target.classList.contains("options-item")||e.target.closest(".action-cell__back-button"))||d.current&&(S&&d.current.contains(e.target)||S&&C())},[C,S]);return(0,n.useEffect)(function(){return S&&document.addEventListener("click",w),S||document.removeEventListener("click",w),function(){document.removeEventListener("click",w)}},[S,w]),(0,f.default)(t,"studyLevelData.randomized_patients",0)&&"REMOVE"===u?null:i.default.createElement("div",{className:"action-cell"},i.default.createElement(p.default,{align:{offset:[0,0]},mouseEnterDelay:.7,overlay:_[u]+" site"},i.default.createElement("div",{onClick:function(e){e.stopPropagation(),l&&y(!S)}},i.default.createElement("span",{ref:c,className:(0,o.default)({red:"REMOVE"===u,green:"ADD"===u})},"REMOVE"===u?E.Icons.CROSS_O:E.Icons.PLUS))),i.default.createElement("div",{ref:d,onClick:function(e){return e.stopPropagation()},className:(0,o.default)({hidden:!S})},S&&i.default.createElement(h.default,{dataType:s,handleCancel:C,setMultieditView:function(){},onSubmit:b})))};y.propTypes={rowData:u.default.object.isRequired,onSubmit:u.default.func.isRequired,isEditable:u.default.bool.isRequired,dataType:u.default.string.isRequired},t.default=y},2331:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCountrySitesManagers=void 0;var l=a(12),r=function(e){return e&&e.__esModule?e:{default:e}}(l),n=a(47),i=a(63),s=function(e,t){var a=(0,r.default)(e,"countryNotes."+[t.scenarioId]+"."+[t.countryId],[]);return a?a.length:0};t.getCountrySitesManagers=(0,n.createSelector)([i.getRouteParams,function(e){return e.sites.countrySitesManager}],function(e,t){return t[e.countryId]}),t.default=s},2333:function(e,t,a){t=e.exports=a(3)(void 0),t.push([e.i,"",""])},2334:function(e,t,a){t=e.exports=a(3)(void 0),t.push([e.i,"",""])},2335:function(e,t,a){t=e.exports=a(3)(void 0),t.push([e.i,"",""])},2339:function(e,t,a){var l=a(2333);"string"==typeof l&&(l=[[e.i,l,""]]);var r={singleton:!0};r.transform=void 0,a(4)(l,r),l.locals&&(e.exports=l.locals)},2340:function(e,t,a){var l=a(2334);"string"==typeof l&&(l=[[e.i,l,""]]);var r={singleton:!0};r.transform=void 0,a(4)(l,r),l.locals&&(e.exports=l.locals)},2341:function(e,t,a){var l=a(2335);"string"==typeof l&&(l=[[e.i,l,""]]);var r={singleton:!0};r.transform=void 0,a(4)(l,r),l.locals&&(e.exports=l.locals)},2343:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ActionDataCell=t.ActionHeaderCell=void 0;var r=a(2395),n=l(r),i=a(2394),s=l(i);t.ActionHeaderCell=n.default,t.ActionDataCell=s.default},2344:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var l in e)t.indexOf(l)>=0||Object.prototype.hasOwnProperty.call(e,l)&&(a[l]=e[l]);return a}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},i=a(0),s=l(i),u=a(1),d=l(u),o=a(2),c=l(o),f=a(12),m=l(f),p=a(15),E=a(64),v=l(E),h=function(e){var t=e.className,a=e.showInitialSelection,l=e.children,i=e.multieditView,u=e.onSelectAll,d=e.multieditAction,o=(e.dataType,r(e,["className","showInitialSelection","children","multieditView","onSelectAll","multieditAction","dataType"])),f=o.data,E=o.rowIndex,h=f[E],g=a&&((0,m.default)(h,"is_recommended_by_FPO")&&"REMOVE"===(0,m.default)(h,"state.status")&&!(0,m.default)(h,"raw")||!(0,m.default)(h,"is_recommended_by_FPO")&&"ADD"===(0,m.default)(h,"state.status")&&!(0,m.default)(h,"raw")||(0,m.default)(h,"raw")&&(0,m.default)(h,"state.status")),S=f.filter(function(e){return e.multiSelected}).length,_=S===f.length,y=!1;return 0===E&&(y=f.reduce(function(e,t){var a=e;return t.studyLevelData&&t.studyLevelData.randomized_patients>0&&(a=!0),a},!1)),s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:(0,c.default)("multiedit-row",{expanded:i&&0===E})},i&&0===E?s.default.createElement(s.default.Fragment,null,!y&&s.default.createElement(v.default,{onChange:function(){return u(f.map(function(e){return e.investigator_center_id}),!_)},label:"",checked:_}),s.default.createElement("div",null,S," sites to ",d)):null),s.default.createElement(p.Row,n({},o,{className:(0,c.default)(t,{dimmed:g,raw:h.raw})}),l))};h.defaultProps={rowIndex:-1,className:"",showInitialSelection:!1,multieditView:!1,multieditAction:"remove"},h.propTypes={children:d.default.node.isRequired,data:d.default.array.isRequired,rowIndex:d.default.number,className:d.default.string,showInitialSelection:d.default.bool,multieditView:d.default.bool,onSelectAll:d.default.func.isRequired,multieditAction:d.default.oneOf(["remove","add"]),dataType:d.default.oneOf(["SELECTED","OTHER","EXTERNAL","RAW","HEADER"]).isRequired},t.default=h},2345:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CurrentStudyDataCell=t.CurrentStudyHeaderCell=void 0;var r=a(2399),n=l(r),i=a(2398),s=l(i);t.CurrentStudyHeaderCell=n.default,t.CurrentStudyDataCell=s.default},2346:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(0),r=function(e){return e&&e.__esModule?e:{default:e}}(l),n=function(){return r.default.createElement("div",null)};t.default=n},2347:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ForecastedDataCell=t.ForecastedHeaderCell=void 0;var r=a(2403),n=l(r),i=a(2402),s=l(i);t.ForecastedHeaderCell=n.default,t.ForecastedDataCell=s.default},2348:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HistoricalDataCell=t.HistoricalHeaderCell=void 0;var r=a(2406),n=l(r),i=a(2405),s=l(i);t.HistoricalHeaderCell=n.default,t.HistoricalDataCell=s.default},2349:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SitesDataCell=t.SitesHeaderCell=void 0;var r=a(2414),n=l(r),i=a(2413),s=l(i);t.SitesHeaderCell=n.default,t.SitesDataCell=s.default},2350:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getRawSitesPages=t.getRawFilteredSitesCount=t.getRawSitesCount=t.getRawFilteredSitesPaginated=t.getRawFilteredSites=t.getRawSites=void 0;var n=a(47),i=a(12),s=l(i),u=a(233),d=l(u),o=a(311),c=t.getRawSites=(0,o.createDeepEqualSelector)([o.getSitesFromStore,o.getInitialSitesSelectionFromStore],function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.filter(function(e){var a=(0,s.default)(e,"state.status");return!!e.raw&&(t?e.raw:e.raw&&!a||"REMOVE"===a)})}),f=t.getRawFilteredSites=(0,o.createDeepEqualSelector)([c,o.getInternalSitesFilterFromStore,o.getExternalSitesFilterFromStore,o.getExperienceSitesFilterFromStore,o.getSitesSearchValueFromStore,o.getSortOptionsFromStore],function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=arguments[3],n=arguments[4],i=arguments[5],u=e.reduce(function(e,t){return t.addedViaSearch?e.addedViaSearch.push(t):e.otherSites.push(t),e},{otherSites:[],addedViaSearch:[]}),c=u.otherSites,f=u.addedViaSearch,m=(0,d.default)(i.active);return[].concat(r(f),r(c.sort(m(i.active,i.direction)))).filter(function(e){var r=!0,i=void 0;t&&(i="INTERNAL"),a&&(i="EXTERNAL");var u=(0,s.default)(e,"isInternal")?"INTERNAL":"EXTERNAL";return r&&i&&i!==u&&(r=!1),r&&(r=(0,o.isMatchedByExpFilters)(e,l)),r&&(r=(0,o.isMatchedBySearchInput)(e,n)),r})});t.getRawFilteredSitesPaginated=(0,o.createDeepEqualSelector)([f,o.getActivePagesFromStore],function(e,t){var a=Math.ceil(t.RAW*o.PER_PAGE);return e.slice(a,a+o.PER_PAGE)}),t.getRawSitesCount=(0,n.createSelector)(c,function(e){return e.length}),t.getRawFilteredSitesCount=(0,n.createSelector)(f,function(e){return e.length}),t.getRawSitesPages=(0,n.createSelector)(f,function(e){return e.length/o.PER_PAGE})},2365:function(e,t,a){var l=a(2434);"string"==typeof l&&(l=[[e.i,l,""]]);var r={singleton:!0};r.transform=void 0,a(4)(l,r),l.locals&&(e.exports=l.locals)},2366:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),n=l(r),i=a(1),s=l(i),u=a(7),d=a(16),o=a(11),c=l(o),f=a(2317),m=l(f),p=a(82),E=l(p),v=a(53),h=a(2331),g=a(310),S=a(106),_=a(8),y=a(28);a(2472);var C=function(e){var t=e.list,a=e.studyId,l=e.scenarioId,i=e.countryId,s=e.hasScenarioData,u=e.getCountryManagerDetails;(0,r.useEffect)(function(){!t&&i&&s&&u(a,l,i)},[t,u,a,l,i,s]);var d="-",o=t||[];return o.length>1?d=o.length+" people access":1===o.length&&(d=o[0].name),n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:"country-managers-dropdown__container"},n.default.createElement("div",{className:"country-managers__label"},"Country manager"),n.default.createElement("div",{className:"country-managers-dropdown__wrapper"},n.default.createElement(m.default,{disabled:!t||!o.length,readOnly:!0,staticLabel:d,selected:null,onSelect:function(){},onStatusChange:function(){},options:o.map(function(e){var t=(0,_.getMomentDate)(e.startDate),a=n.default.createElement(n.default.Fragment,null,n.default.createElement("div",null,e.name),t&&(0,c.default)().isSameOrBefore(t,"day")&&n.default.createElement("div",{className:"secondary-label"},"(start date - ",(0,S.formatDate)((0,_.getMomentDate)(e.startDate)),")"));return{key:e.name,value:a}})})),n.default.createElement("div",{className:"country-managers__underline"})),n.default.createElement(E.default,{className:"separator",size:"large"}))};C.defaultProps={list:null,hasScenarioData:!1,countrySitesManager:null},C.propTypes={list:s.default.array,studyId:s.default.oneOfType([s.default.number,s.default.string]).isRequired,scenarioId:s.default.oneOfType([s.default.number,s.default.string]).isRequired,countryId:s.default.oneOfType([s.default.number,s.default.string]).isRequired,hasScenarioData:s.default.bool,getCountryManagerDetails:s.default.func.isRequired};var b=function(e,t){var a=t.params,l=a.scenarioId,r=a.studyId,n=a.countryId,i=(0,y.getRouteMatch)(t),s=(0,v.getScenarioData)(e,i);return{list:(0,h.getCountrySitesManagers)(e,i),studyId:r,scenarioId:l,countryId:n,hasScenarioData:!!s}},w={getCountryManagerDetails:g.getCountryManager};t.default=(0,d.withRouter)((0,u.connect)(b,w)(C))},2367:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(2366),r=function(e){return e&&e.__esModule?e:{default:e}}(l);t.default=r.default},2379:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),n=l(r),i=a(1),s=l(i),u=a(7),d=a(16),o=a(12),c=l(o),f=a(2),m=l(f),p=a(129),E=l(p),v=a(74),h=l(v),g=a(6),S=a(192),_=l(S),y=a(310),C=a(451),b=a(53),w=a(63),N=a(55),R=l(N),I=a(8),T=a(28),A=a(312);a(2474);var O=(0,E.default)(R.default),D=function(e){var t=e.onSelect,a=e.status,l=e.studyId,i=e.scenarioId,s=e.countryId,u=e.overrideId,d=e.editableByCountryUser,o=e.editableByTom,c=e.approvedBy,f=e.updatedAt,p=e.getUserDetails,E=e.approverDetails,S=e.hasScenarioData,y=e.hasChanges;(0,r.useEffect)(function(){c&&S&&p(l,i,u,c)},[l,i,u,c,p,S,a]);var C=(0,r.useCallback)(function(e){var a=e.value;t(l,i,s,u,a)},[l,i,s,t,u]),b=[{id:A.COUNTRY_SITE_APPROVAL_STATUS.APPROVED,name:n.default.createElement("div",{className:"menu-item-wrapper"},n.default.createElement("span",{className:(0,m.default)("menu-item-icon")},g.Icons.SITE_APPROVED),n.default.createElement("span",null,"Site selection agreed")),icon:g.Icons.SITE_APPROVED,active:d},{id:A.COUNTRY_SITE_APPROVAL_STATUS.IN_GLOBAL_REVIEW,name:n.default.createElement("div",{className:"menu-item-wrapper"},n.default.createElement("span",{className:(0,m.default)("menu-item-icon")},g.Icons.SITE_IN_REVIEW),n.default.createElement("span",null,"Site selection provided")),icon:g.Icons.SITE_IN_REVIEW,active:d},{id:A.COUNTRY_SITE_APPROVAL_STATUS.READY_TO_LOCAL_MANAGE,name:n.default.createElement("div",{className:"menu-item-wrapper"},n.default.createElement("span",{className:(0,m.default)("menu-item-icon")},g.Icons.SITE_IN_PROGRESS),n.default.createElement("span",null,"Site selection required")),icon:g.Icons.SITE_IN_PROGRESS,active:o},{id:A.COUNTRY_SITE_APPROVAL_STATUS.NOT_READY_TO_LOCAL_MANAGE,name:"No site selection required yet",icon:"",active:o}],w=n.default.createElement("div",{className:"country-sites-status-dropdown-container"},n.default.createElement("div",{className:"sites-status__title"},"Country sites approval status"),n.default.createElement(h.default,{disabled:!o&&!d||y,initialSelect:b.find(function(e){return e.id===a}),onOptionSelect:C},b.map(function(e){return n.default.createElement(v.DropdownOption,{disabled:!e.active,key:e.id,id:e.id,label:e.name,value:e.id,selected:a===e.id})})));return y?w=n.default.createElement(_.default,{mouseEnterDelay:.3,placement:"top",overlay:n.default.createElement("div",null,n.default.createElement("div",null,n.default.createElement("span",null,"You have unsaved changes,"),n.default.createElement("br",null),n.default.createElement("span",null,"please save in order to change country site status")))},w):a===A.COUNTRY_SITE_APPROVAL_STATUS.APPROVED&&E&&(w=n.default.createElement(_.default,{mouseEnterDelay:.3,placement:"top",overlay:n.default.createElement("div",null,n.default.createElement("div",null,n.default.createElement("span",null,"Site selection was approved "),n.default.createElement("span",null,f?(0,I.getMomentDate)(f).format("DD MMM YYYY"):"-"),n.default.createElement("br",null),n.default.createElement("span",null,"by ",E.name)))},w)),w};D.defaultProps={status:A.COUNTRY_SITE_APPROVAL_STATUS.NOT_READY_TO_LOCAL_MANAGE,overrideId:null,editableByCountryUser:!1,editableByTom:!1,approvedBy:null,updatedAt:null,approverDetails:null,hasScenarioData:!1,hasChanges:!1},D.propTypes={onSelect:s.default.func.isRequired,status:s.default.string,overrideId:s.default.number,editableByCountryUser:s.default.bool,editableByTom:s.default.bool,studyId:s.default.oneOfType([s.default.number,s.default.string]).isRequired,scenarioId:s.default.oneOfType([s.default.number,s.default.string]).isRequired,countryId:s.default.oneOfType([s.default.number,s.default.string]).isRequired,approvedBy:s.default.string,updatedAt:s.default.string,getUserDetails:s.default.func.isRequired,approverDetails:s.default.object,hasScenarioData:s.default.bool,hasChanges:s.default.bool};var x=function(e,t){var a=t.match.params,l=a.id,r=a.scenarioId,n=a.countryId,i=(0,T.getRouteMatch)(t),s=(0,b.getActiveCountry)(e,i),u=e.auth.user,d=(0,w.getStudyData)(e,i),o=(0,b.getScenarioData)(e,i),f=O(u,d,o),m=(0,c.default)(s,"country_sites_approval_status.status",A.COUNTRY_SITE_APPROVAL_STATUS.NOT_READY_TO_LOCAL_MANAGE),p=(0,c.default)(s,"country_sites_approval_status.approvedBy"),E=(0,c.default)(s,"country_sites_approval_status.updatedAt"),v=(0,c.default)(s,"country_sites_approval_status.approverDetails");return{status:m,overrideId:(0,c.default)(s,"override_id",null),editableByCountryUser:f.canManageSites&&(0,c.default)(e,"sites.editableCountriesIds")&&(0,c.default)(e,"sites.editableCountriesIds").includes(+n)&&m!==A.COUNTRY_SITE_APPROVAL_STATUS.NOT_READY_TO_LOCAL_MANAGE&&(0,c.default)(o,"site_selection_required"),editableByTom:(f.isAdmin||f.isUserHasScenarioFullControl)&&(0,c.default)(o,"site_selection_required"),studyId:l,scenarioId:r,countryId:n,approvedBy:p,updatedAt:E,approverDetails:v,hasScenarioData:!!o,hasChanges:e.sites.hasChanges}},P={onSelect:y.onChangeCountrySitesStatus,getUserDetails:C.getUserDetailsById};t.default=(0,d.withRouter)((0,u.connect)(x,P)(D))},2380:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(2379),r=function(e){return e&&e.__esModule?e:{default:e}}(l);t.default=r.default},2391:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var a=[],l=!0,r=!1,n=void 0;try{for(var i,s=e[Symbol.iterator]();!(l=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);l=!0);}catch(e){r=!0,n=e}finally{try{!l&&s.return&&s.return()}finally{if(r)throw n}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=a(0),i=l(n),s=a(1),u=l(s),d=a(12),o=l(d),c=a(61),f=l(c),m=a(39),p=a(2314),E=a(14),v=l(E),h=a(193),g=a(73),S=function(e){var t=e.scenarioStartDate,a=e.selectedSitesNum,l=e.selectedSitesAverageRR,s=e.saveOverridesData,u=e.hasChanges,d=e.saveData,c=(0,n.useContext)(p.CountryDataContext),E=(0,o.default)(c,"countryPlannedData",null),S=(0,n.useState)(!1),_=r(S,2),y=_[0],C=_[1],b=(0,n.useState)(!1),w=r(b,2),N=w[0],R=w[1],I=(0,n.useCallback)(function(){var e=[{countryName:(0,o.default)(E,"country_name"),fp:t,oldValue:(0,o.default)(E,"num_sites"),overrideId:(0,o.default)(E,"override_id"),regionName:(0,o.default)(E,"region_name"),values:[{num_sites:a},{randomisation_rate:l}]}];C(!1),s(e,c.studyId,c.scenarioId,!0)},[t,c,E,l,a,s]);return i.default.createElement("div",{style:{marginRight:"20px"}},i.default.createElement(v.default,{placement:"top",mouseEnterDelay:.3,overlay:i.default.createElement("div",null,"Align country parameters ",i.default.createElement("br",null)," with current site selection")},i.default.createElement("div",null,i.default.createElement(f.default,{label:"Align",onClick:function(){u?R(!0):C(!0)}}))),i.default.createElement(m.PopupDialog,{title:i.default.createElement("div",null,"Align country parameters with ",i.default.createElement("br",null)," current site selection"),className:"optimise-scenario-dialog",isShown:y,handleClose:function(){return C(!1)},buttons:[i.default.createElement(m.ActionButton,{className:"optimise-scenario-dialog__button-cancel",action:function(){return C(!1)}},g.CANCEL),i.default.createElement(m.ActionButton,{action:I,primary:!0},g.ALIGN_AUTOMATICALLY)]},i.default.createElement("div",{className:"optimise-content"},"Country sites number and randomization rate in scenario will be changed according to the number / performance of selected sites")),i.default.createElement(h.SaveChangesDialog,{isShown:N,onSubmit:d,actionType:"SAVE_OVERRIDES",callbackActions:[{type:"SAVE_OVERRIDES",action:I}],onClose:function(){return R(!1)}}))};S.defaultProps={scenarioStartDate:null,selectedSitesNum:0,selectedSitesAverageRR:0,hasUnsavedData:!0,hasChanges:!1},S.propTypes={scenarioStartDate:u.default.object,selectedSitesNum:u.default.number,selectedSitesAverageRR:u.default.number,saveOverridesData:u.default.func.isRequired,hasChanges:u.default.bool,saveData:u.default.func.isRequired},t.default=S},2392:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(2391),r=function(e){return e&&e.__esModule?e:{default:e}}(l);t.default=r.default},2393:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var a=[],l=!0,r=!1,n=void 0;try{for(var i,s=e[Symbol.iterator]();!(l=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);l=!0);}catch(e){r=!0,n=e}finally{try{!l&&s.return&&s.return()}finally{if(r)throw n}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=a(0),i=l(n),s=a(1),u=l(s),d=a(7),o=a(12),c=l(o),f=a(129),m=l(f),p=a(54),E=l(p),v=a(2),h=l(v),g=a(45),S=l(g),_=a(16),y=a(17),C=a(6),b=a(2327),w=l(b),N=a(2380),R=l(N),I=a(2367),T=l(I),A=a(2397),O=l(A),D=a(2320),x=l(D),P=a(2417),L=l(P),k=a(2396),F=l(k),V=a(53),M=a(63),q=a(752),j=a(2350),G=a(749),H=a(751),B=a(311),W=a(750),U=a(28),z=a(310),K=l(z),Y=a(312),X=a(73),J=a(10);a(2481);var Q=(0,m.default)(W.getHeaderData,S.default),Z=function(e){var t=e.headerData,a=e.studyId,l=e.scenarioId,s=e.countryId,u=e.status,d=e.selectedSitesCount,o=e.otherSitesCount,c=e.rawSitesCount,f=e.multieditView,m=e.setMultieditView,p=e.onSubmitMultiedit,E=e.isEditable,v=e.loadingSites,g=e.rawTableExpanded,S=e.setRawTableExpanded,_=e.otherTableExpanded,b=e.setOtherTableExpanded,N=e.selectedTableExpanded,I=e.externalSitesCount,A=e.externalTableExpanded,D=e.setExternalTableExpanded,P=e.activePages,k=e.setSectionsActivePages,V=e.showNoAffectingAlert,M=e.otherFilteredSitesCount,q=e.externalFilteredSitesCount,j=e.rawFilteredSitesCount,G=(0,W.useIntersect)({threshold:1,rootMargin:"-50px 0px 0px 0px"}),H=r(G,2),U=H[0],z=H[1],K=(0,W.useIntersect)({threshold:1,rootMargin:"-200px 0px 0px 0px"}),Y=r(K,2),J=Y[0],Q=Y[1],Z=(0,W.useIntersect)({threshold:1,rootMargin:"-200px 0px 0px 0px"}),$=r(Z,2),ee=$[0],te=$[1],ae=(0,W.useIntersect)({threshold:1,rootMargin:"-200px 0px 0px 0px"}),le=r(ae,2),re=le[0],ne=le[1];return(0,n.useEffect)(function(){var e={};[{field:"OTHER",count:M},{field:"EXTERNAL",count:q},{field:"RAW",count:j}].forEach(function(t){Math.ceil(P[t.field]*B.PER_PAGE)>t.count&&(e[t.field]=0)}),Object.keys(e).length>0&&k(e)},[M,q,j,k,P]),i.default.createElement("div",{className:"country-sites-container"},i.default.createElement("div",{style:{top:"59px",width:"100%",position:"fixed",zIndex:8,background:"white",height:"126px",display:U.boundingClientRect&&U.boundingClientRect.top<=50?"block":"none"},className:"sites-table__subheader"},i.default.createElement(y.Grid,null,i.default.createElement(y.Row,null,i.default.createElement(y.Col,{offset:1,width:11},i.default.createElement("div",{className:"country-sites-table"},i.default.createElement(F.default,{active:U.boundingClientRect&&U.boundingClientRect.top<=50,rawSitesView:re.boundingClientRect&&re.boundingClientRect.top<=200,externalSitesView:ee.boundingClientRect&&ee.boundingClientRect.top<=200,otherSitesView:J.boundingClientRect&&J.boundingClientRect.top<=200,status:u,studyId:a,scenarioId:l,countryId:s,dataType:"HEADER"})))))),i.default.createElement(y.Grid,null,i.default.createElement(y.Row,null,i.default.createElement(y.Col,{offset:1,width:11},i.default.createElement(w.default,{dataHeader:t},i.default.createElement(T.default,{params:{scenarioId:l,studyId:a,countryId:s}}),i.default.createElement(R.default,null)))),i.default.createElement(y.Row,null,i.default.createElement(y.Col,{offset:1,width:11},i.default.createElement("div",{ref:z}),i.default.createElement("div",{className:"country-sites-table"},i.default.createElement(F.default,{active:!U.boundingClientRect||U.boundingClientRect.top>50,otherSitesView:!J.isIntersecting&&J.boundingClientRect&&J.boundingClientRect.top<=200,status:u,studyId:a,scenarioId:l,countryId:s,collapsed:!N,dataType:"SELECTED"}),i.default.createElement(O.default,{otherSitesView:!J.isIntersecting&&J.boundingClientRect&&J.boundingClientRect.top<=200,status:u,studyId:a,scenarioId:l,countryId:s,collapsed:!N,dataType:"SELECTED"})))),V&&i.default.createElement(y.Row,null,i.default.createElement(y.Col,{offset:1,width:11},i.default.createElement("section",{className:(0,h.default)("country-sites-table__separator")},i.default.createElement("span",{className:"icon-text__wrapper",style:{display:"flex",alignItems:"center"}},i.default.createElement("span",{className:"icon__wrapper warning",style:{height:"22px",width:"22px"}},C.Icons.WARNING),i.default.createElement("span",{className:"text__wrapper"},"Approved (Prev.Approved) scenario cannot be aligned with site selection changes"))))),d>0?i.default.createElement(L.default,{loadingSites:v,studyId:a,scenarioId:l,countryId:s}):null,i.default.createElement(y.Row,null,i.default.createElement(y.Col,{offset:1,width:11,className:"raw-table__wrapper"},i.default.createElement("h3",{className:"raw-table__control-wrapper",onClick:function(){return b()}},i.default.createElement("span",{className:(0,h.default)("raw-table__control",{expand:_})},C.Icons.CHEVRON_DOWN),i.default.createElement("span",null,X.VIEW_NOT_SELECTED_SITES," (",o,")")),i.default.createElement("span",{className:(0,h.default)("sites-multiedit-panel__toggle",{hidden:!E||0===o||d<15}),onClick:function(){return m(l,s,"OTHER")}},C.Icons.MULTIPLE_EDIT),i.default.createElement("div",{ref:Q}),i.default.createElement("div",{className:(0,h.default)("country-sites-table",{hidden:!_})},i.default.createElement(O.default,{status:u,studyId:a,scenarioId:l,countryId:s,dataType:"OTHER"})))),i.default.createElement(y.Row,null,i.default.createElement(y.Col,{offset:1,width:11,className:"raw-table__wrapper"},i.default.createElement("h3",{className:"raw-table__control-wrapper",onClick:function(){return D()}},i.default.createElement("span",{className:(0,h.default)("raw-table__control",{expand:A})},C.Icons.CHEVRON_DOWN),i.default.createElement("span",null,X.VIEW_EXTERNAL_SITES," ",I>0&&"(top "+I+")")),i.default.createElement("span",{className:(0,h.default)("sites-multiedit-panel__toggle",{hidden:!E||0===I||d<15}),onClick:function(){return m(l,s,"OTHER")}},C.Icons.MULTIPLE_EDIT),i.default.createElement("div",{ref:te}),i.default.createElement("div",{className:(0,h.default)("country-sites-table",{hidden:!A})},i.default.createElement(O.default,{status:u,studyId:a,scenarioId:l,countryId:s,dataType:"EXTERNAL"})))),i.default.createElement(y.Row,null,i.default.createElement(y.Col,{offset:1,width:11,className:"raw-table__wrapper"},i.default.createElement("h3",{className:"raw-table__control-wrapper",onClick:function(){return S()}},i.default.createElement("span",{className:(0,h.default)("raw-table__control",{expand:g})},C.Icons.CHEVRON_DOWN),i.default.createElement("span",null,X.VIEW_RAW_SITES," ",c>0&&"(first "+c+" from unranked list)")),i.default.createElement("span",{className:(0,h.default)("sites-multiedit-panel__toggle",{hidden:!E||0===c||d<15}),onClick:function(){return m(l,s,"RAW")}},C.Icons.MULTIPLE_EDIT),i.default.createElement("div",{ref:ne},i.default.createElement("div",{className:(0,h.default)("country-sites-table",{hidden:!g})},i.default.createElement(O.default,{status:u,studyId:a,scenarioId:l,countryId:s,dataType:"RAW"})))))),i.default.createElement(x.default,{dataType:f,setMultieditView:function(e){return m(l,s,e)},onSubmit:function(e,t){p(l,s,e,t)}}),i.default.createElement("div",{style:{paddingBottom:"300px"}}))},$=function(e,t){var a=(0,_.matchPath)(e.router.location.pathname,{path:"/studies/:id/scenarios/:scenarioId/sites/:countryId/site/:siteId"}),l=a?a.params:t.match.params,r=l.scenarioId,n=l.id,i=l.countryId,s=(0,U.getRouteMatch)(a?{match:a}:t),u=(0,M.getStudyData)(e,s),d=(0,V.getScenarioData)(e,s),o=(0,V.getActiveCountry)(e,s),f=(0,c.default)(o,"country_sites_approval_status.status",Y.COUNTRY_SITE_APPROVAL_STATUS.NOT_READY_TO_LOCAL_MANAGE),m=(0,c.default)(d,"status");return{status:f,headerData:Q((0,E.default)(u,["therapeutic_area","indication","state"]),(0,E.default)(o,["country_sites_approval_status","actual_num_sites","actual_sites_enrolling","patient_allocation","actual_patient_allocation"])),studyId:+n,scenarioId:+r,countryId:+i,hasScenarioData:!!d,selectedSitesCount:(0,G.getSelectedSitesCount)(e,s),otherSitesCount:(0,q.getOtherSitesCount)(e,s),otherFilteredSitesCount:(0,q.getOtherFilteredSitesCount)(e,s),externalFilteredSitesCount:(0,H.getExternalFilteredSitesCount)(e,s),rawFilteredSitesCount:(0,j.getRawFilteredSitesCount)(e,s),rawSitesCount:(0,j.getRawSitesCount)(e,s),externalSitesCount:(0,H.getExternalSitesCount)(e,s),multieditView:e.sites.multieditView,isEditable:e.sites.editableCountriesIds&&e.sites.editableCountriesIds.includes(+i)&&f===Y.COUNTRY_SITE_APPROVAL_STATUS.READY_TO_LOCAL_MANAGE&&(0,c.default)(d,"site_selection_required"),loadingSites:e.sites.loadingSites,rawTableExpanded:e.sites.rawTableExpanded,otherTableExpanded:e.sites.otherTableExpanded,selectedTableExpanded:e.sites.selectedTableExpanded,externalTableExpanded:e.sites.externalTableExpanded,activePages:e.sites.activePages,showNoAffectingAlert:m===J.SCENARIO_STATUS.APPROVED||m===J.SCENARIO_STATUS.PREV_APPROVED}},ee={getSites:K.default,getCountryManagerDetails:z.getCountryManager,setMultieditView:z.setSitesMultieditView,onSubmitMultiedit:z.onSubmitMultieditAction,setRawTableExpanded:z.setRawTableState,setOtherTableExpanded:z.setOtherTableState,setExternalTableExpanded:z.setExternalTableState,setSectionsActivePages:z.setActivePages};Z.defaultProps={hasScenarioData:!1,countrySitesManager:null,otherSitesCount:0,rawSitesCount:0,multieditView:"NONE",isEditable:!1,selectedSitesCount:0,loadingSites:!1,rawTableExpanded:!1,otherTableExpanded:!0,selectedTableExpanded:!0,externalSitesCount:0,externalTableExpanded:!0,showNoAffectingAlert:!1,otherFilteredSitesCount:0,externalFilteredSitesCount:0,rawFilteredSitesCount:0},Z.propTypes={headerData:u.default.array.isRequired,studyId:u.default.oneOfType([u.default.number,u.default.string]).isRequired,scenarioId:u.default.oneOfType([u.default.number,u.default.string]).isRequired,countryId:u.default.oneOfType([u.default.number,u.default.string]).isRequired,status:u.default.string.isRequired,otherSitesCount:u.default.number,rawSitesCount:u.default.number,multieditView:u.default.string,setMultieditView:u.default.func.isRequired,onSubmitMultiedit:u.default.func.isRequired,isEditable:u.default.bool,selectedSitesCount:u.default.number,loadingSites:u.default.bool,rawTableExpanded:u.default.bool,setRawTableExpanded:u.default.func.isRequired,otherTableExpanded:u.default.bool,setOtherTableExpanded:u.default.func.isRequired,selectedTableExpanded:u.default.bool,externalSitesCount:u.default.number,externalTableExpanded:u.default.bool,setExternalTableExpanded:u.default.func.isRequired,activePages:u.default.object.isRequired,setSectionsActivePages:u.default.func.isRequired,showNoAffectingAlert:u.default.bool,otherFilteredSitesCount:u.default.number,externalFilteredSitesCount:u.default.number,rawFilteredSitesCount:u.default.number},t.default=(0,_.withRouter)((0,d.connect)($,ee)(Z))},2394:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),n=l(r),i=a(1),s=l(i),u=a(2),d=l(u),o=a(15),c=a(2330),f=l(c),m=function(e){var t=e.rowIndex,a=e.data,l=e.onSubmit,r=e.isEditable,i=e.dataType,s=a[t];return n.default.createElement(o.CellGroup,{direction:"row",className:"data-group"},n.default.createElement(o.Cell,{overflow:!0,width:32,className:(0,d.default)("value-cell action-cell",{disabled:!r})},n.default.createElement(f.default,{dataType:i,isEditable:r,onSubmit:l,rowData:s})))};m.defaultProps={rowIndex:-1,isEditable:!1},m.propTypes={rowIndex:s.default.number,data:s.default.array.isRequired,onSubmit:s.default.func.isRequired,isEditable:s.default.bool,dataType:s.default.string.isRequired},t.default=m},2395:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),n=l(r),i=a(1),s=l(i),u=a(15),d=a(6),o=function(e){var t=e.setMultieditView,a=e.dataType,l=e.selectedSitesCount;return n.default.createElement(u.CellGroup,null,n.default.createElement(u.Cell,{className:"cell-caption"},n.default.createElement("h3",null," ")),n.default.createElement(u.CellGroup,{direction:"row",className:"header-group"},n.default.createElement(u.Cell,{className:"header-cell"}," ")),n.default.createElement(u.CellGroup,{direction:"row",className:"header-group header-group-narrow"},"HEADER"!==a&&n.default.createElement("span",{style:{marginLeft:"auto",marginRight:"auto",cursor:"pointer",display:l>=15?"block":"none"},onClick:function(){return t("SELECTED")}},d.Icons.MULTIPLE_EDIT)))};o.defaultProps={selectedSitesCount:0},o.propTypes={setMultieditView:s.default.func.isRequired,dataType:s.default.oneOf(["SELECTED","OTHER","RAW","HEADER"]).isRequired,selectedSitesCount:s.default.number},t.default=o},2396:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),n=l(r),i=a(1),s=l(i),u=a(7),d=a(16),o=a(15),c=a(2344),f=l(c),m=a(2349),p=a(2343),E=a(2404),v=l(E),h=a(2408),g=l(h),S=a(310),_=a(749),y=a(748),C=a(312),b=a(28);a(2365);var w=function(e){var t=e.scenarioId,a=e.countryId,l=e.selectedSitesCount,r=e.studiesFilter,i=e.metricsFilter,s=e.sortData,u=e.setStudiesFilterValue,d=e.setMetricsFilterValue,c=e.handleSortAction,E=e.tableView,h=e.toggleTableView,S=e.dataType,_=e.showInitialSelection,y=e.isEditable,C=e.otherSitesView,b=e.rawSitesView,w=e.externalSitesView,N=e.multieditView,R=e.setMultieditView,I=e.onSelectAllSites,T=e.viewForecastAsDecile,A=e.toggleViewForecastAsDecile,O=e.active;return n.default.createElement(o.FlexTable,{rowsCount:0,rowHeight:48,collapsedBody:!0,headerHeight:139},n.default.createElement(f.default,{dataType:"HEADER",onSelectAll:function(e,l){return I(t,a,e,l)},multieditView:N===S,showInitialSelection:_,data:[],className:"sites-row",onRowClick:function(){}},n.default.createElement(o.Column,{className:"sites-column",overflow:!0,header:n.default.createElement(m.SitesHeaderCell,{active:O,otherSitesView:C,rawSitesView:b,externalSitesView:w,scenarioId:t,countryId:a,selectedSitesCount:l,sortData:s,handleSort:function(e,l){return c(e,l,a,t)}}),data:n.default.createElement("div",null),width:400}),(0,v.default)({scenarioId:t,countryId:a,sites:[],studiesFilter:r,metricsFilter:i,sortData:s,setStudiesFilterValue:u,setMetricsFilterValue:d,handleSortAction:c,tableView:E,toggleTableView:h,dataType:S,viewForecastAsDecile:T,toggleViewForecastAsDecile:A}),n.default.createElement(o.Column,{hidden:!0,className:"sites-column",overflow:!0,header:n.default.createElement(g.default,null),data:n.default.createElement("div",null),fixedWidth:!0,width:64}),n.default.createElement(o.Column,{hidden:!y,className:"sites-column",overflow:!0,header:n.default.createElement(p.ActionHeaderCell,{dataType:S,selectedSitesCount:l,setMultieditView:function(e){return R(t,a,e)}}),data:n.default.createElement("div",null),fixedWidth:!0,width:32})))},N=function(e,t){var a=(0,b.getRouteMatch)(t);return{studiesFilter:e.sites.studiesFilter,metricsFilter:e.sites.metricsFilter,sortData:e.sites.sortData,tableView:e.sites.tableView,selectedSitesCount:(0,_.getSelectedSitesCount)(e,a),showInitialSelection:e.sites.showInitialSelection,isEditable:e.sites.editableCountriesIds&&e.sites.editableCountriesIds.includes(t.countryId)&&t.status===C.COUNTRY_SITE_APPROVAL_STATUS.READY_TO_LOCAL_MANAGE,multieditView:e.sites.multieditView,viewForecastAsDecile:e.sites.viewForecastAsDecile,hasSelectedSitesWithoutRR:(0,_.getSelectedSitesWithoutRR)(e,a)>0,hasSelectedSitesWithRROverrides:(0,_.getSelectedSitesWithRROverride)(e,a)>0}},R={setStudiesFilterValue:S.setStudiesFilter,setMetricsFilterValue:S.setMetricsFilter,handleSortAction:S.sortData,toggleTableView:S.toggleTableViewMode,setMultieditView:S.setSitesMultieditView,onSelectAllSites:S.onSelectAllSitesAction,toggleViewForecastAsDecile:S.toggleViewForecastAsDecileAction};w.defaultProps={selectedSitesCount:0,tableView:y.TABLE_VIEW.HISTORICAL,dataType:"SELECTED",isEditable:!1,otherSitesView:!1,externalSitesView:!1,rawSitesView:!1,viewForecastAsDecile:!0,hasSelectedSitesWithoutRR:!1,hasSelectedSitesWithRROverrides:!1,active:!1},w.propTypes={scenarioId:s.default.oneOfType([s.default.string,s.default.number]).isRequired,countryId:s.default.oneOfType([s.default.string,s.default.number]).isRequired,selectedSitesCount:s.default.number,studiesFilter:s.default.string.isRequired,metricsFilter:s.default.string.isRequired,sortData:s.default.object.isRequired,setStudiesFilterValue:s.default.func.isRequired,setMetricsFilterValue:s.default.func.isRequired,handleSortAction:s.default.func.isRequired,tableView:s.default.string,toggleTableView:s.default.func.isRequired,dataType:s.default.string,showInitialSelection:s.default.bool.isRequired,isEditable:s.default.bool,otherSitesView:s.default.bool,rawSitesView:s.default.bool,externalSitesView:s.default.bool,multieditView:s.default.oneOf(["SELECTED","OTHER","RAW","NONE"]).isRequired,setMultieditView:s.default.func.isRequired,onSelectAllSites:s.default.func.isRequired,viewForecastAsDecile:s.default.bool,toggleViewForecastAsDecile:s.default.func.isRequired,active:s.default.bool},t.default=(0,d.withRouter)((0,u.connect)(N,R)(w))},2397:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),n=l(r),i=a(1),s=l(i),u=a(7),d=a(19),o=a(16),c=a(12),f=l(c),m=a(2),p=l(m),E=a(2469),v=l(E),h=a(15),g=a(2344),S=l(g),_=a(2349),y=a(2343),C=a(2346),b=l(C),w=a(2400),N=l(w),R=a(2407),I=l(R),T=a(2418),A=l(T),O=a(2410),D=l(O),x=a(310),P=a(311),L=a(53),k=a(752),F=a(2350),V=a(751),M=a(749),q=a(748),j=a(312),G=a(73),H=a(28);a(2365);var B=function(e){var t=e.studyId,a=e.scenarioId,l=e.countryId,r=e.sites,i=e.studiesFilter,s=e.metricsFilter,u=e.navigateToSite,d=e.tableView,o=e.dataType,c=e.handleSiteAction,m=e.showInitialSelection,E=e.isEditable,g=e.multieditView,C=e.onSelectAllSites,w=e.onMultiSelect,R=e.updateValue,T=e.viewForecastAsDecile,O=e.collapsed,x=e.loadingSites,P=e.setActivePage,L=e.pagesCount,k=e.activePage,F=void 0;switch(o){case"OTHER":F=G.OTHER_INTERNAL_SITES_EXP;break;case"EXTERNAL":F=G.OTHER_NEW_SITES_EXP;break;case"RAW":F=G.OTHER_SITES_EXP;break;case"SELECTED":F="";break;default:F=null}return x?n.default.createElement(A.default,null):n.default.createElement(n.default.Fragment,null,("SELECTED"!==o||!r.length)&&n.default.createElement("section",{className:(0,p.default)("country-sites-table__separator",{expanded:!r.length&&"SELECTED"!==o})},n.default.createElement("div",{className:"country-sites-table__separator-row-wrapper"},n.default.createElement("div",null,F),("EXTERNAL"===o||"RAW"===o)&&n.default.createElement(D.default,{studyId:t,scenarioId:a,dataType:o,countryId:l})),!r.length&&n.default.createElement("div",{className:"country-sites__no-data-info"},"No sites were found")),n.default.createElement(h.FlexTable,{rowsCount:r.length,rowHeight:48,collapsedBody:O,headerHeight:0},n.default.createElement(S.default,{dataType:o,onSelectAll:function(e,t){return C(a,l,e,t)},multieditAction:"OTHER"===o||"RAW"===o?"add":"remove",multieditView:g===o,showInitialSelection:m,data:r,className:"sites-row",onRowClick:function(e,n){u(t,a,l,(0,f.default)(r[n],"investigator_center_id"))}},n.default.createElement(h.Column,{className:"sites-column",overflow:!0,header:n.default.createElement(b.default,null),data:n.default.createElement(_.SitesDataCell,{dataType:o,data:r,onMultiSelect:function(e){return w(a,l,e)},multieditView:g===o,cellClickHandler:function(e,t){return u(r[t])}}),width:400}),(0,N.default)({sites:r,studiesFilter:i,metricsFilter:s,tableView:d,viewForecastAsDecile:T}),n.default.createElement(h.Column,{hidden:!0,className:"sites-column",overflow:!0,header:n.default.createElement(b.default,null),data:n.default.createElement(I.default,{onUpdateValue:function(e,t,r){return R(a,l,e,t,r)},showInputs:"SELECTED"===o,isEditable:E,data:r}),fixedWidth:!0,width:64}),n.default.createElement(h.Column,{hidden:!E,className:"sites-column",overflow:!0,header:n.default.createElement(b.default,null),data:n.default.createElement(y.ActionDataCell,{dataType:o,isEditable:E,onSubmit:function(e,t,r){c(a,l,t,e,r)},data:r}),fixedWidth:!0,width:32}))),"SELECTED"!==o&&!!r.length&&L>1&&n.default.createElement("span",{className:"pagination__wrapper"},n.default.createElement(v.default,{previousLabel:"Previous page",nextLabel:"Next page",breakLabel:"...",initialPage:k,disableInitialCallback:!0,breakClassName:"break-me",pageCount:L,marginPagesDisplayed:1,pageRangeDisplayed:3,onPageChange:function(e){var t=e.selected;P(o,t)},previousClassName:"pagination__prev",nextClassName:"pagination__next",containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active"})))},W=function(e,t){var a=t.dataType,l=(0,H.getRouteMatch)(t),r=(0,L.getScenarioData)(e,l),n=void 0,i=void 0;switch(a){case"SELECTED":n=M.getSelectedFilteredSites,i=M.getSelectedSitesPages;break;case"OTHER":n=k.getOtherFilteredSitesPaginated,i=k.getOtherSitesPages;break;case"EXTERNAL":n=V.getExternalFilteredSitesPaginated,i=V.getExternalSitesPages;break;case"RAW":n=F.getRawFilteredSitesPaginated,i=F.getRawSitesPages;break;default:n=null}return{studyId:t.studyId,studiesFilter:e.sites.studiesFilter,metricsFilter:e.sites.metricsFilter,sortData:e.sites.sortData,tableView:e.sites.tableView,sites:null!==n?n(e,l):P.EMPTY_SITES,showInitialSelection:e.sites.showInitialSelection,isEditable:e.sites.editableCountriesIds&&e.sites.editableCountriesIds.includes(t.countryId)&&t.status===j.COUNTRY_SITE_APPROVAL_STATUS.READY_TO_LOCAL_MANAGE&&(0,f.default)(r,"site_selection_required"),multieditView:e.sites.multieditView,viewForecastAsDecile:e.sites.viewForecastAsDecile,hasSelectedSitesWithoutRR:(0,M.getSelectedSitesWithoutRR)(e,l)>0,hasSelectedSitesWithRROverrides:(0,M.getSelectedSitesWithRROverride)(e,l)>0,loadingSites:e.sites.loadingSites,pagesCount:i(e,l),activePage:e.sites.activePages[a]}},U={handleSiteAction:x.onSiteAction,navigateToSite:function(e,t,a,l){return(0,d.push)("/studies/"+e+"/scenarios/"+t+"/sites/"+a+"/site/"+l)},onSelectAllSites:x.onSelectAllSitesAction,onMultiSelect:x.onSelectSiteAction,updateValue:x.updateSiteValue,setActivePage:x.setActiveSitesPage};B.defaultProps={tableView:q.TABLE_VIEW.HISTORICAL,dataType:"SELECTED",isEditable:!1,otherSitesView:!1,rawSitesView:!1,reasons:[],updateValue:void 0,viewForecastAsDecile:!0,hasSelectedSitesWithoutRR:!1,hasSelectedSitesWithRROverrides:!1,collapsed:!1,loadingSites:!1,pagesCount:0,activePage:0},B.propTypes={studyId:s.default.oneOfType([s.default.string,s.default.number]).isRequired,scenarioId:s.default.oneOfType([s.default.string,s.default.number]).isRequired,countryId:s.default.oneOfType([s.default.string,s.default.number]).isRequired,sites:s.default.array.isRequired,studiesFilter:s.default.string.isRequired,metricsFilter:s.default.string.isRequired,navigateToSite:s.default.func.isRequired,tableView:s.default.string,handleSiteAction:s.default.func.isRequired,dataType:s.default.string,showInitialSelection:s.default.bool.isRequired,isEditable:s.default.bool,multieditView:s.default.oneOf(["SELECTED","OTHER","EXTERNAL","RAW","NONE"]).isRequired,onSelectAllSites:s.default.func.isRequired,onMultiSelect:s.default.func.isRequired,updateValue:s.default.func,viewForecastAsDecile:s.default.bool,collapsed:s.default.bool,loadingSites:s.default.bool,setActivePage:s.default.func.isRequired,pagesCount:s.default.number,activePage:s.default.number},t.default=(0,o.withRouter)((0,u.connect)(W,U)(B))},2398:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),n=l(r),i=a(1),s=l(i),u=a(12),d=l(u),o=a(15),c=a(96),f=function(e){var t=e.rowIndex,a=e.data,l=(0,d.default)(a[t],"studyLevelData",{})||{};return n.default.createElement(o.CellGroup,{direction:"row",className:"historical-data"},n.default.createElement(o.CellGroup,{width:74,direction:"row",className:"data-group"},n.default.createElement(o.Cell,{width:32,className:"value-cell"},n.default.createElement("div",null,l.target_patients)),n.default.createElement(o.Cell,{width:32,className:"value-cell"},n.default.createElement("div",null,l.randomized_patients))),n.default.createElement(o.CellGroup,{direction:"row",width:138,className:"data-group"},n.default.createElement(o.Cell,{width:32,className:"value-cell"},n.default.createElement("div",null,(0,c.getFormattedDate)(l.siv))),n.default.createElement(o.Cell,{width:32,className:"value-cell"},n.default.createElement("div",null,(0,c.getFormattedDate)(l.fpfv))),n.default.createElement(o.Cell,{width:32,className:"value-cell"},n.default.createElement("div",null,(0,c.getFormattedDate)(l.lpfv)))))};f.defaultProps={rowIndex:-1},f.propTypes={rowIndex:s.default.number,data:s.default.array.isRequired},t.default=f},2399:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),n=l(r),i=a(1),s=l(i),u=a(2),d=l(u),o=a(15),c=a(6),f=a(748),m=function(e){var t=e.sortData,a=e.handleSort,l=e.toggleTableView;return n.default.createElement(o.CellGroup,null,n.default.createElement(o.Cell,{className:"cell-caption"},n.default.createElement("h3",null,n.default.createElement("span",{className:"toggle-active",onClick:function(){return l(f.TABLE_VIEW.CURRENT)}},"Current study"),n.default.createElement("span",null," / "),n.default.createElement("span",{className:"toggle",onClick:function(){return l(f.TABLE_VIEW.HISTORICAL)}},"Historical"),n.default.createElement("span",null," / "),n.default.createElement("span",{className:"toggle",onClick:function(){return l(f.TABLE_VIEW.FORECAST)}},"Forecast"))),n.default.createElement(o.CellGroup,{direction:"row",className:"header-group"},n.default.createElement(o.Cell,{width:74,className:"header-cell"},n.default.createElement("div",null,"Patients")),n.default.createElement(o.Cell,{width:138,className:"header-cell"},n.default.createElement("div",null,"Milestones"))),n.default.createElement(o.CellGroup,{direction:"row",className:"header-group header-group-narrow"},n.default.createElement(o.CellGroup,{width:74,direction:"row",className:"header-group"},n.default.createElement(o.Cell,{className:"header-cell-category",width:32},n.default.createElement(o.SortHeaderCell,{sortDir:t.direction,onSortChange:a,sortKey:"target_patients"},n.default.createElement("div",{className:(0,d.default)("align-left",{active:"target_patients"===t.active})},"Target"),a?n.default.createElement("div",{className:"sort-direction"},"ASC"===t.direction?c.Icons.FILTER_DESCENDING:c.Icons.FILTER_ASCENDING):null,n.default.createElement("div",{className:"header-cell-underline"}))),n.default.createElement(o.Cell,{className:"header-cell-category",width:32},n.default.createElement(o.SortHeaderCell,{sortDir:t.direction,onSortChange:a,sortKey:"randomized_patients"},n.default.createElement("div",{className:(0,d.default)("align-left",{active:"randomized_patients"===t.active})},"Actual"),a?n.default.createElement("div",{className:"sort-direction"},"ASC"===t.direction?c.Icons.FILTER_DESCENDING:c.Icons.FILTER_ASCENDING):null,n.default.createElement("div",{className:"header-cell-underline"})))),n.default.createElement(o.CellGroup,{width:138,direction:"row",className:"header-group"},n.default.createElement(o.Cell,{className:"header-cell-category",width:32},n.default.createElement(o.SortHeaderCell,{sortDir:t.direction,onSortChange:a,sortKey:"siv"},n.default.createElement("div",{className:(0,d.default)("align-left",{active:"siv"===t.active})},"SIV"),a?n.default.createElement("div",{className:"sort-direction"},"ASC"===t.direction?c.Icons.FILTER_DESCENDING:c.Icons.FILTER_ASCENDING):null,n.default.createElement("div",{className:"header-cell-underline"}))),n.default.createElement(o.Cell,{className:"header-cell-category",width:32},n.default.createElement(o.SortHeaderCell,{sortDir:t.direction,onSortChange:a,sortKey:"fpfv"},n.default.createElement("div",{className:(0,d.default)("align-left",{active:"fpfv"===t.active})},"FPFV"),a?n.default.createElement("div",{className:"sort-direction"},"ASC"===t.direction?c.Icons.FILTER_DESCENDING:c.Icons.FILTER_ASCENDING):null,n.default.createElement("div",{className:"header-cell-underline"}))),n.default.createElement(o.Cell,{className:"header-cell-category",width:32},n.default.createElement(o.SortHeaderCell,{sortDir:t.direction,onSortChange:a,sortKey:"lpfv"},n.default.createElement("div",{className:(0,d.default)("align-left",{active:"lpfv"===t.active})},"LPFV"),a?n.default.createElement("div",{className:"sort-direction"},"ASC"===t.direction?c.Icons.FILTER_DESCENDING:c.Icons.FILTER_ASCENDING):null,n.default.createElement("div",{className:"header-cell-underline"}))))))};m.propTypes={handleSort:s.default.func.isRequired,sortData:s.default.object.isRequired,toggleTableView:s.default.func.isRequired},t.default=m},2400:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),n=l(r),i=a(1),s=l(i),u=a(15),d=a(2348),o=a(2346),c=l(o),f=a(2347),m=a(2345),p=a(748),E=function(e){var t=e.sites,a=e.studiesFilter,l=e.metricsFilter,r=e.tableView,i=e.viewForecastAsDecile,s=void 0;switch(r){case p.TABLE_VIEW.HISTORICAL:s=n.default.createElement(u.Column,{className:"sites-column",overflow:!0,header:n.default.createElement(c.default,null),data:n.default.createElement(d.HistoricalDataCell,{studiesFilter:a,metricsFilter:l,data:t}),width:600});break;case p.TABLE_VIEW.FORECAST:s=n.default.createElement(u.Column,{className:"sites-column",overflow:!0,header:n.default.createElement(c.default,null),data:n.default.createElement(f.ForecastedDataCell,{decileView:i,data:t}),width:600});break;case p.TABLE_VIEW.CURRENT:default:s=n.default.createElement(u.Column,{className:"sites-column",overflow:!0,header:n.default.createElement(c.default,null),data:n.default.createElement(m.CurrentStudyDataCell,{data:t}),width:600})}return s};E.defaultProps={selectedSitesCount:0,tableView:p.TABLE_VIEW.HISTORICAL,dataType:"SELECTED",isEditable:!1,otherSitesView:!1,rawSitesView:!1,reasons:[],viewForecastAsDecile:!0},E.propTypes={sites:s.default.array.isRequired,studiesFilter:s.default.string.isRequired,metricsFilter:s.default.string.isRequired,setStudiesFilterValue:s.default.func.isRequired,setMetricsFilterValue:s.default.func.isRequired,handleSortAction:s.default.func.isRequired,tableView:s.default.string,toggleTableView:s.default.func.isRequired,dataType:s.default.string,updateValue:s.default.func.isRequired,viewForecastAsDecile:s.default.bool,toggleViewForecastAsDecile:s.default.func.isRequired},t.default=E},2401:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),n=l(r),i=a(1),s=l(i),u=a(2),d=l(u);a(2478);var o=function(e){var t=e.value,a=0,l=void 0;switch(t){case"LOW":a=1,l="Low";break;case"MEDIUM":a=2,l="Medium";break;case"HIGH":a=3,l="High";break;default:a=0,l="N/A"}return n.default.createElement("div",{className:"confidence-indicator__wrapper"},n.default.createElement("span",{className:(0,d.default)("confidence-indicator",{active:a>0})}),n.default.createElement("span",{className:(0,d.default)("confidence-indicator",{active:a>1})}),n.default.createElement("span",{className:(0,d.default)("confidence-indicator",{active:a>2})}),n.default.createElement("span",{className:"confidence-indicator__label"},l))};o.defaultProps={value:"MEDIUM"},o.propTypes={value:s.default.string},t.default=o},2402:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),n=l(r),i=a(1),s=l(i),u=a(15),d=a(2401),o=l(d),c=function(e){var t=e.rowIndex,a=e.data,l=e.decileView,r=a[t],i=null!==r.forecast_screen_failure_rate?Math.round(100*r.forecast_screen_failure_rate)+"%":"",s=null!==r.forecast_default_probability?Math.round(100*r.forecast_default_probability)+"%":"",d=null!==r.forecast_siv_fpfv?Math.round(r.forecast_siv_fpfv)+"w":"",c=null!==r.forecast_randomization_rate?(+r.forecast_randomization_rate).toFixed(2):"",f=r.decile_siv_fpfv,m=r.decile_randomization_rate,p=r.decile_screen_failure_rate,E=r.decile_default_probability_rate;return n.default.createElement(u.CellGroup,{direction:"row",className:"data-group"},n.default.createElement(u.Cell,{width:64,className:"value-cell align--right"},n.default.createElement("div",null,l?f:d)),n.default.createElement(u.Cell,{width:32,className:"value-cell"},n.default.createElement("div",null,l?m:c)),n.default.createElement(u.Cell,{width:35,className:"value-cell"},n.default.createElement("div",null,l?p:i)),n.default.createElement(u.Cell,{width:36,className:"value-cell"},n.default.createElement("div",null,l?E:s)),n.default.createElement(u.Cell,{width:44,className:"value-cell"},n.default.createElement(o.default,{value:r.forecast_confidence_score})))};c.defaultProps={rowIndex:-1,decileView:!0},c.propTypes={rowIndex:s.default.number,data:s.default.array.isRequired,decileView:s.default.bool},t.default=c},2403:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),n=l(r),i=a(1),s=l(i),u=a(2),d=l(u),o=a(15),c=a(6),f=a(14),m=l(f),p=a(748),E=a(2314),v=function(e){var t=e.sortData,a=e.handleSort,l=e.toggleTableView,i=e.decileView,s=e.toggleViewForecastAsDecile,u=(0,r.useContext)(E.CountryDataContext),f=u.hasSitesWithTrackingData;return n.default.createElement(o.CellGroup,null,n.default.createElement(o.Cell,{className:"cell-caption"},n.default.createElement("h3",null,n.default.createElement("span",{className:(0,d.default)("toggle",{disabled:!f}),onClick:function(){return l(p.TABLE_VIEW.CURRENT)}},"Current study"),n.default.createElement("span",null," / "),n.default.createElement("span",{className:"toggle",onClick:function(){return l(p.TABLE_VIEW.HISTORICAL)}},"Historical"),n.default.createElement("span",null," / "),n.default.createElement("span",{className:"toggle-active",onClick:function(e){e.shiftKey&&s(),l(p.TABLE_VIEW.FORECAST)}},"Forecast"))),n.default.createElement(o.CellGroup,{direction:"row",className:"header-group"},n.default.createElement(o.Cell,{className:"header-cell"},n.default.createElement("div",null,"Enrollment rates"))),n.default.createElement(o.CellGroup,{direction:"row",className:"header-group header-group-narrow"},n.default.createElement(o.Cell,{width:64,className:"header-cell-category"},n.default.createElement(o.SortHeaderCell,{sortDir:t.direction,onSortChange:a,sortKey:"forecast_siv_fpfv"},n.default.createElement("div",{className:(0,d.default)("align-left",{active:"forecast_siv_fpfv"===t.active})},"SIV-FPFV ",i&&"(decile)"),a?n.default.createElement("div",{className:"sort-direction"},"ASC"===t.direction?c.Icons.FILTER_DESCENDING:c.Icons.FILTER_ASCENDING):null,n.default.createElement("div",{className:"header-cell-underline"}))),n.default.createElement(o.Cell,{width:32,className:"header-cell-category"},n.default.createElement(o.SortHeaderCell,{sortDir:t.direction,onSortChange:a,sortKey:"forecast_randomization_rate"},n.default.createElement(m.default,{align:{offset:[0,0]},overlay:"patients/site/month"},n.default.createElement("div",null,n.default.createElement("div",{className:(0,d.default)("align-left",{active:"forecast_randomization_rate"===t.active})},"RR ",i&&"(decile)"),a?n.default.createElement("div",{className:"sort-direction"},"ASC"===t.direction?c.Icons.FILTER_DESCENDING:c.Icons.FILTER_ASCENDING):null,n.default.createElement("div",{className:"header-cell-underline"}))))),n.default.createElement(o.Cell,{width:35,className:"header-cell-category"},n.default.createElement(o.SortHeaderCell,{sortDir:t.direction,onSortChange:a,sortKey:"forecast_screen_failure_rate"},n.default.createElement(m.default,{align:{offset:[0,0]},overlay:"Screening failure rate"},n.default.createElement("div",null,n.default.createElement("div",{className:(0,d.default)("align-left",{active:"forecast_screen_failure_rate"===t.active})},"SF% ",i&&"(decile)"),a?n.default.createElement("div",{className:"sort-direction"},"ASC"===t.direction?c.Icons.FILTER_DESCENDING:c.Icons.FILTER_ASCENDING):null,n.default.createElement("div",{className:"header-cell-underline"}))))),n.default.createElement(o.Cell,{width:36,className:"header-cell-category"},n.default.createElement(o.SortHeaderCell,{sortDir:t.direction,onSortChange:a,sortKey:"forecast_default_probability"},n.default.createElement(m.default,{align:{offset:[0,0]},overlay:"Default Probability"},n.default.createElement("div",null,n.default.createElement("div",{className:(0,d.default)("align-left",{active:"forecast_default_probability"===t.active})},"DP% ",i&&"(decile)"),a?n.default.createElement("div",{className:"sort-direction"},"ASC"===t.direction?c.Icons.FILTER_DESCENDING:c.Icons.FILTER_ASCENDING):null,n.default.createElement("div",{className:"header-cell-underline"}))))),n.default.createElement(o.Cell,{width:44,className:"header-cell-category"},n.default.createElement(o.SortHeaderCell,{sortDir:t.direction,onSortChange:a,sortKey:"forecast_confidence_score"},n.default.createElement(m.default,{align:{offset:[0,0]},overlay:"Forecast confidence"},n.default.createElement("div",null,n.default.createElement("div",{className:(0,d.default)("align-left",{active:"forecast_confidence_score"===t.active})},"Confidence (RR)"),a?n.default.createElement("div",{className:"sort-direction"},"ASC"===t.direction?c.Icons.FILTER_DESCENDING:c.Icons.FILTER_ASCENDING):null,n.default.createElement("div",{className:"header-cell-underline"})))))))};v.defaultProps={decileView:!0},v.propTypes={handleSort:s.default.func.isRequired,sortData:s.default.object.isRequired,toggleTableView:s.default.func.isRequired,decileView:s.default.bool,toggleViewForecastAsDecile:s.default.func.isRequired},t.default=v},2404:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),n=l(r),i=a(1),s=l(i),u=a(15),d=a(2348),o=a(2347),c=a(2345),f=a(748),m=function(e){var t=e.scenarioId,a=e.countryId,l=e.studiesFilter,r=e.metricsFilter,i=e.sortData,s=e.setStudiesFilterValue,m=e.setMetricsFilterValue,p=e.handleSortAction,E=e.tableView,v=e.toggleTableView,h=e.viewForecastAsDecile,g=e.toggleViewForecastAsDecile,S=void 0;switch(E){case f.TABLE_VIEW.HISTORICAL:S=n.default.createElement(u.Column,{className:"sites-column",overflow:!0,header:n.default.createElement(d.HistoricalHeaderCell,{caption:"Historical",toggleTableView:v,studiesFilter:l,onStudiesFilter:s,metricsFilter:r,onMetricsFilter:m,sortData:i,handleSort:function(e,l){return p(e,l,a,t)}}),data:n.default.createElement("div",null),width:600});break;case f.TABLE_VIEW.FORECAST:S=n.default.createElement(u.Column,{className:"sites-column",overflow:!0,header:n.default.createElement(o.ForecastedHeaderCell,{caption:"Forecasted",toggleViewForecastAsDecile:g,decileView:h,toggleTableView:v,sortData:i,handleSort:function(e,l){return p(e,l,a,t)}}),data:n.default.createElement("div",null),width:600});break;case f.TABLE_VIEW.CURRENT:default:S=n.default.createElement(u.Column,{className:"sites-column",overflow:!0,header:n.default.createElement(c.CurrentStudyHeaderCell,{caption:"Current study",toggleTableView:v,sortData:i,handleSort:function(e,l){return p(e,l,a,t)}}),data:n.default.createElement("div",null),width:600})}return S};m.defaultProps={selectedSitesCount:0,tableView:f.TABLE_VIEW.HISTORICAL,dataType:"SELECTED",isEditable:!1,otherSitesView:!1,rawSitesView:!1,reasons:[],viewForecastAsDecile:!0},m.propTypes={scenarioId:s.default.oneOfType([s.default.string,s.default.number]).isRequired,countryId:s.default.oneOfType([s.default.string,s.default.number]).isRequired,sites:s.default.array.isRequired,studiesFilter:s.default.string.isRequired,metricsFilter:s.default.string.isRequired,sortData:s.default.object.isRequired,setStudiesFilterValue:s.default.func.isRequired,setMetricsFilterValue:s.default.func.isRequired,handleSortAction:s.default.func.isRequired,tableView:s.default.string,toggleTableView:s.default.func.isRequired,dataType:s.default.string,updateValue:s.default.func.isRequired,viewForecastAsDecile:s.default.bool,toggleViewForecastAsDecile:s.default.func.isRequired},t.default=m},2405:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),n=l(r),i=a(1),s=l(i),u=a(12),d=l(u),o=a(231),c=l(o),f=a(15),m=a(748),p=function(e,t){return(0,c.default)(e)?"":t?t(e):e},E=function(e){var t=e.rowIndex,a=e.data,l=e.studiesFilter,r=e.metricsFilter,i=a[t],s=(0,c.default)(i.screen_failure_rate)?"":Math.round(100*i.screen_failure_rate)+"%",u=(0,c.default)(i.randomization_rate)?"":(+i.randomization_rate).toFixed(2),o=void 0;switch(l){case"studies_active":o=i[l];break;case"studies_complete":default:o=(0,c.default)(i[l])?(0,d.default)(i,"studyLevelData.center_num_studies_complete_in_fpo2mi_3y",""):i[l]}var m=i[r];return m=null===m?"":"median_time_to_query"===r||"median_time_to_entry"===r?(0,c.default)(m)?"":Math.round(m)+"d":"query_rate"===r?(0,c.default)(m)?"":(100*m).toFixed(2)+"%":(+m).toFixed(2),n.default.createElement(f.CellGroup,{direction:"row",className:"historical-data"},n.default.createElement(f.CellGroup,{width:74,className:"data-group"},n.default.createElement(f.Cell,{className:"value-cell align--right"},n.default.createElement("div",null,o))),n.default.createElement(f.CellGroup,{direction:"row",width:138,className:"data-group"},n.default.createElement(f.Cell,{width:32,className:"value-cell align--right"},n.default.createElement("div",null,p(i.min_patients_randomized))),n.default.createElement(f.Cell,{width:32,className:"value-cell align--right"},n.default.createElement("div",null,p(i.max_patients_randomized))),n.default.createElement(f.Cell,{width:32,className:"value-cell align--right"},n.default.createElement("div",null,p(i.average_patients_randomized,Math.round)))),n.default.createElement(f.CellGroup,{direction:"row",width:155,className:"data-group"},n.default.createElement(f.Cell,{width:32,className:"value-cell"},n.default.createElement("div",null,u)),n.default.createElement(f.Cell,{width:32,className:"value-cell"},n.default.createElement("div",null,s)),n.default.createElement(f.Cell,{width:65,className:"value-cell align--right"},n.default.createElement("div",null,(0,c.default)(i.drop_out_rate)?"":(+i.drop_out_rate).toFixed(2)))),n.default.createElement(f.CellGroup,{width:150,className:"data-group"},n.default.createElement(f.Cell,{className:"value-cell align--right"},n.default.createElement("div",null,m," "))))};E.defaultProps={rowIndex:-1},E.propTypes={rowIndex:s.default.number,data:s.default.array.isRequired,studiesFilter:s.default.string.isRequired,metricsFilter:s.default.oneOf(Object.values(m.METRICS_FILTER_KEYS)).isRequired},t.default=E},2406:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),n=l(r),i=a(1),s=l(i),u=a(2),d=l(u),o=a(15),c=a(2415),f=l(c),m=a(748),p=a(6),E=a(14),v=l(E),h=a(2314),g=function(e){var t=e.studiesFilter,a=e.onStudiesFilter,l=e.metricsFilter,i=e.onMetricsFilter,s=e.sortData,u=e.handleSort,c=e.toggleTableView,E=(0,r.useContext)(h.CountryDataContext),g=E.hasSitesWithTrackingData;return n.default.createElement(o.CellGroup,null,n.default.createElement(o.Cell,{className:"cell-caption"},n.default.createElement("h3",null,n.default.createElement("span",{className:(0,d.default)("toggle",{disabled:!g}),onClick:function(){return c(m.TABLE_VIEW.CURRENT)}},"Current study"),n.default.createElement("span",null," / "),n.default.createElement("span",{className:"toggle-active",onClick:function(){return c(m.TABLE_VIEW.HISTORICAL)}},"Historical"),n.default.createElement("span",null," / "),n.default.createElement("span",{className:"toggle",onClick:function(){return c(m.TABLE_VIEW.FORECAST)}},"Forecast"))),n.default.createElement(o.CellGroup,{direction:"row",className:"header-group"},n.default.createElement(o.Cell,{width:74,className:"header-cell"},n.default.createElement("div",null,"Studies")),n.default.createElement(o.Cell,{width:138,className:"header-cell"},n.default.createElement("div",null,"Patients randomized")),n.default.createElement(o.Cell,{width:155,className:"header-cell"},n.default.createElement("div",null,"Enrollment rates")),n.default.createElement(o.Cell,{width:150,className:"header-cell"},n.default.createElement("div",null,"Ops. metrics"))),n.default.createElement(o.CellGroup,{direction:"row",className:"header-group"},n.default.createElement(o.CellGroup,{width:74,className:"header-group"},n.default.createElement(f.default,{className:"header-cell-category",sortDir:s.direction,onSortChange:u,sortKey:t,sortData:s,selected:t,options:m.STUDIES_FILTER,onSelect:a})),n.default.createElement(o.CellGroup,{width:138,direction:"row",className:"header-group"},n.default.createElement(o.Cell,{className:"header-cell-category",width:32},n.default.createElement(o.SortHeaderCell,{sortDir:s.direction,onSortChange:u,sortKey:"min_patients_randomized"},n.default.createElement("div",{className:(0,d.default)("align-left",{active:"min_patients_randomized"===s.active})},"Min."),u?n.default.createElement("div",{className:"sort-direction"},"ASC"===s.direction?p.Icons.FILTER_DESCENDING:p.Icons.FILTER_ASCENDING):null,n.default.createElement("div",{className:"header-cell-underline"}))),n.default.createElement(o.Cell,{className:"header-cell-category",width:32},n.default.createElement(o.SortHeaderCell,{sortDir:s.direction,onSortChange:u,sortKey:"max_patients_randomized"},n.default.createElement("div",{className:(0,d.default)("align-left",{active:"max_patients_randomized"===s.active})},"Max."),u?n.default.createElement("div",{className:"sort-direction"},"ASC"===s.direction?p.Icons.FILTER_DESCENDING:p.Icons.FILTER_ASCENDING):null,n.default.createElement("div",{className:"header-cell-underline"}))),n.default.createElement(o.Cell,{className:"header-cell-category",width:32},n.default.createElement(o.SortHeaderCell,{sortDir:s.direction,onSortChange:u,sortKey:"average_patients_randomized"},n.default.createElement("div",{className:(0,d.default)("align-left",{active:"average_patients_randomized"===s.active})},"Avg."),u?n.default.createElement("div",{className:"sort-direction"},"ASC"===s.direction?p.Icons.FILTER_DESCENDING:p.Icons.FILTER_ASCENDING):null,n.default.createElement("div",{className:"header-cell-underline"})))),n.default.createElement(o.CellGroup,{width:155,direction:"row",className:"header-group"},n.default.createElement(o.Cell,{className:"header-cell-category",width:32},n.default.createElement(o.SortHeaderCell,{sortDir:s.direction,onSortChange:u,sortKey:"randomization_rate"},n.default.createElement(v.default,{align:{offset:[0,0]},overlay:"patients/site/month"},n.default.createElement("div",null,n.default.createElement("div",{className:(0,d.default)("align-left",{active:"randomization_rate"===s.active})},"RR"),u?n.default.createElement("div",{className:"sort-direction"},"ASC"===s.direction?p.Icons.FILTER_DESCENDING:p.Icons.FILTER_ASCENDING):null,n.default.createElement("div",{className:"header-cell-underline"}))))),n.default.createElement(o.Cell,{className:"header-cell-category",width:32},n.default.createElement(o.SortHeaderCell,{className:"header-cell-category",width:32,sortDir:s.direction,onSortChange:u,sortKey:"screen_failure_rate"},n.default.createElement(v.default,{align:{offset:[0,0]},overlay:"Screening failure rate"},n.default.createElement("div",null,n.default.createElement("div",{className:(0,d.default)("align-left",{active:"screen_failure_rate"===s.active})},"SF%"),u?n.default.createElement("div",{className:"sort-direction"},"ASC"===s.direction?p.Icons.FILTER_DESCENDING:p.Icons.FILTER_ASCENDING):null,n.default.createElement("div",{className:"header-cell-underline"}))))),n.default.createElement(o.CellGroup,{width:65,className:"header-group"},n.default.createElement(o.SortHeaderCell,{className:"header-cell-category",width:32,sortDir:s.direction,onSortChange:u,sortKey:"drop_out_rate"},n.default.createElement(v.default,{align:{offset:[0,0]},overlay:"Dropout Rate Randomization"},n.default.createElement("div",null,n.default.createElement("div",{className:(0,d.default)("align-left",{active:"drop_out_rate"===s.active})},"DR Randomization"),u?n.default.createElement("div",{className:"sort-direction"},"ASC"===s.direction?p.Icons.FILTER_DESCENDING:p.Icons.FILTER_ASCENDING):null,n.default.createElement("div",{className:"header-cell-underline"})))))),n.default.createElement(o.CellGroup,{width:150,className:"header-group"},n.default.createElement(f.default,{className:"header-cell-category",sortDir:s.direction,onSortChange:u,sortKey:l,sortData:s,selected:l,options:m.METRICS_FILTER,onSelect:i}))))};g.propTypes={onStudiesFilter:s.default.func.isRequired,studiesFilter:s.default.string.isRequired,metricsFilter:s.default.string.isRequired,onMetricsFilter:s.default.func.isRequired,handleSort:s.default.func.isRequired,sortData:s.default.object.isRequired,toggleTableView:s.default.func.isRequired},t.default=g},2407:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),n=l(r),i=a(1),s=l(i),u=a(2),d=l(u),o=a(117),c=l(o),f=a(15),m=a(27),p=l(m),E=function(e){var t=e.rowIndex,a=e.data,l=e.isEditable,r=e.showInputs,i=e.onUpdateValue,s=a[t];return n.default.createElement(f.CellGroup,{direction:"row",className:"data-group"},n.default.createElement(f.Cell,{width:64,className:"value-cell"},r&&(!s.forecast_randomization_rate&&!s.randomization_rate||s.hasOverrodeRR)&&n.default.createElement("div",{onClick:function(e){return e.stopPropagation()},className:(0,d.default)("data-input",{overridden:s.hasOverrodeRR})},n.default.createElement(p.default,{narrow:!0,disabled:!l,value:s.state.randomization_rate||0===s.state.randomization_rate?s.state.randomization_rate:"",onBlur:function(e,t){""===t.value&&null===s.state.randomization_rate||+t.value!=+s.state.randomization_rate&&i(s.investigator_center_id,"randomization_rate",t.value)},validators:[function(e){return""===e||c.default.isFloat(e,{min:0,max:999})}],type:"text",onClick:function(e){return e.stopPropagation()}}))))};E.defaultProps={rowIndex:-1,isEditable:!1,showInputs:!1},E.propTypes={rowIndex:s.default.number,data:s.default.array.isRequired,isEditable:s.default.bool,showInputs:s.default.bool,onUpdateValue:s.default.func.isRequired},t.default=E},2408:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),n=l(r),i=a(2),s=l(i),u=a(15),d=a(14),o=l(d),c=function(){return n.default.createElement(u.CellGroup,null,n.default.createElement(u.Cell,{className:"cell-caption"},n.default.createElement("h3",null," ")),n.default.createElement(u.CellGroup,{direction:"row",className:"header-group"},n.default.createElement(u.Cell,{className:"header-cell"}," ")),n.default.createElement(u.CellGroup,{direction:"row",className:"header-group header-group-narrow"},n.default.createElement(u.CellGroup,{width:64,fixedWidth:!0,className:"header-group rank"},n.default.createElement(u.SortHeaderCell,{className:"header-cell-category no-interaction",sortDir:"ASC",onSortChange:void 0,sortKey:"rr_cell_placeholder"},n.default.createElement(o.default,{mouseEnterDelay:.3,overlay:"Expected RR entered manually by user"},n.default.createElement("div",null,n.default.createElement("div",{className:(0,s.default)("align-left")},"Exp. RR"),n.default.createElement("div",{className:"header-cell-underline"})))))))};t.default=c},2409:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(2411),r=function(e){return e&&e.__esModule?e:{default:e}}(l);t.default=r.default},2410:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var a=[],l=!0,r=!1,n=void 0;try{for(var i,s=e[Symbol.iterator]();!(l=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);l=!0);}catch(e){r=!0,n=e}finally{try{!l&&s.return&&s.return()}finally{if(r)throw n}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=a(0),i=l(n),s=a(1),u=l(s),d=a(191),o=l(d),c=a(12),f=l(c),m=a(7),p=a(2),E=l(p),v=a(56),h=l(v),g=a(6),S=a(14),_=l(S),y=a(27),C=l(y),b=a(310),w=a(2412),N=a(311),R=function(e){var t=e.handleSearchSitesValue,a=e.studyId,l=e.scenarioId,s=e.countryId,u=e.searchResults,d=e.dataType,c=e.addSelectedSite,m=e.sitesDataAvailable,p=(0,n.useRef)(),v=(0,n.useRef)((0,o.default)(function(e,a,l,r,n){var i=h.default.generate();t(e,a,l,r,n,i)},500)).current,S=(0,n.useState)(""),y=r(S,2),b=y[0],w=y[1],N=(0,n.useState)(!1),R=r(N,2),I=R[0],T=R[1],A=(0,n.useCallback)(function(e){e.target&&e.target.closest(".search-input-wrapper "+d)||I&&p.current.contains(e.target)||I&&(w(""),T(!1))},[T,I,d]),O=(0,n.useCallback)(function(e){w(e.target.value),v(a,l,s,d,e.target.value)},[v,a,l,s,d]);return(0,n.useEffect)(function(){return I&&document.addEventListener("click",A),I||document.removeEventListener("click",A),function(){document.removeEventListener("click",A)}},[I,A]),(0,n.useEffect)(function(){u&&T(!0)},[u,T]),i.default.createElement("div",{className:(0,E.default)("search-input-wrapper",d)},i.default.createElement("div",{className:"icon-wrapper"},g.Icons.SEARCH_HISTORICAL),i.default.createElement(_.default,{mouseEnterDelay:.3,overlay:m?i.default.createElement("span",null,"Search for sites by PI and Primary center",i.default.createElement("br",null),i.default.createElement("span",{className:"color-grey italic"},"Enter 3 characters to search...")):i.default.createElement("div",null,"Sorry, site functionality is not fully available ",i.default.createElement("br",null),"because of data update running at the moment.",i.default.createElement("br",null),"Please try again in a few minutes")},i.default.createElement("div",null,i.default.createElement(C.default,{disabled:!m,value:b,placeholder:"Search for sites",onClick:function(){w(""),T(!1)},clearIcon:!0,onChange:O}))),i.default.createElement("div",{ref:p,className:(0,E.default)("search-results__panel-container",{hidden:!I})},i.default.createElement("div",null,void 0!==b&&null!==b&&b.length<3&&i.default.createElement("div",null,"Enter 3 characters to search"),u&&b.length>=3&&0===u.length&&i.default.createElement("div",null,"No sites found"),u&&u.map(function(e){return i.default.createElement("div",{key:e.investigator_center_id,onClick:function(){c(l,s,e),w(""),T(!1)},className:(0,E.default)("sites-search-result__item",{exist:e.exist})},i.default.createElement("span",null,(0,f.default)(e,"investigator_center.investigator.name")),i.default.createElement("span",{className:"sites-search-result__item-separator"},"|"),i.default.createElement("span",null,(0,f.default)(e,"investigator_center.center.name")))}))))};R.defaultProps={searchResults:null,sitesDataAvailable:!0},R.propTypes={handleSearchSitesValue:u.default.func.isRequired,studyId:u.default.number.isRequired,scenarioId:u.default.number.isRequired,countryId:u.default.number.isRequired,searchResults:u.default.array,dataType:u.default.string.isRequired,addSelectedSite:u.default.func.isRequired,sitesDataAvailable:u.default.bool};var I=function(e,t){return{searchResults:("EXTERNAL"===t.dataType?w.getExternalSitesSearchResults:w.getRawSitesSearchResults)(e),sitesDataAvailable:(0,N.getSitesDataAvailability)(e)}},T={handleSearchSitesValue:b.searchForSitesAction,addSelectedSite:b.addSelectedSiteAction};t.default=(0,m.connect)(I,T)(R)},2411:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),n=l(r),i=a(1),s=l(i),u=a(7),d=a(191),o=l(d),c=a(6),f=a(27),m=l(f),p=a(14),E=l(p),v=a(310),h=function(e){var t=e.searchSitesValue,a=e.handleSearchSitesValue,l=(0,r.useRef)((0,o.default)(function(e){return a(e)},500)).current,i=(0,r.useCallback)(function(e){l(e.target.value)},[l]);return n.default.createElement("span",{className:"search-input-wrapper"},n.default.createElement("div",{className:"icon-wrapper"},c.Icons.SEARCH_HISTORICAL),n.default.createElement(E.default,{mouseEnterDelay:.3,overlay:n.default.createElement("span",null,"Search for sites by PI and Primary center",n.default.createElement("br",null),n.default.createElement("span",{className:"color-grey italic"},"Enter 3 characters to search..."))},n.default.createElement("div",null,n.default.createElement(m.default,{value:t,withoutBorder:!0,placeholder:"Filter sites",onClick:function(){return a("")},clearIcon:!0,onChange:i}))))};h.defaultProps={searchSitesValue:""},h.propTypes={searchSitesValue:s.default.string,handleSearchSitesValue:s.default.func.isRequired};var g=function(e){return{searchSitesValue:e.sites.searchSitesValue}},S={handleSearchSitesValue:v.searchSitesValueAction};t.default=n.default.memo((0,u.connect)(g,S)(h))},2412:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getExternalSitesSearchResults=t.getRawSitesSearchResults=void 0;var l=a(47),r=function(e){return e.sitesSearch.RAW},n=function(e){return e.sitesSearch.EXTERNAL};t.getRawSitesSearchResults=(0,l.createSelector)([r],function(e){return e}),t.getExternalSitesSearchResults=(0,l.createSelector)([n],function(e){return e})},2413:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function r(e){return null===e||void 0===e?"n/a":e?"Internal":"New to Novartis"}Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),i=l(n),s=a(1),u=l(s),d=a(2),o=l(d),c=a(12),f=l(c),m=a(7),p=a(14),E=l(p),v=a(15),h=a(450),g=a(64),S=l(g),_=a(6),y=function(e){var t=e.rowIndex,a=e.data,l=e.cellClickHandler,n=e.multieditView,s=e.onMultiSelect,u=e.dataType,d=(0,m.useSelector)(function(e){return(0,f.default)(e,"sites.siteEditReasons")}),c=a[t],p=(0,f.default)(c,"isInternal"),g=c.state.status,y=(0,f.default)(c,"investigator_center.investigator",{}),C=(0,f.default)(c,"investigator_center.center",{}),b=i.default.createElement(h.FlexBox,{direction:"column"},i.default.createElement(h.FlexBox,{justifyContent:"space-between"},i.default.createElement(h.FlexItem,{className:"label opacity8"},"Primary investigator: "),i.default.createElement(h.FlexItem,{className:"value"},r(y.PI_has_internal_experience))),i.default.createElement(h.FlexBox,{justifyContent:"space-between"},i.default.createElement(h.FlexItem,{className:"label opacity8"},"Primary center:"),i.default.createElement(h.FlexItem,{className:"value"},r(C.center_has_internal_experience))),!!c.is_recommended_by_FPO&&i.default.createElement(h.FlexBox,{justifyContent:"space-between"},i.default.createElement(h.FlexItem,{className:"label"},"Recommended")),c.PIList&&!!c.PIList.length&&i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{style:{height:"1px",background:"white",margin:"8px 0",opacity:.8}}),i.default.createElement("div",{className:"italic opacity8"},"Other PIs in the center to consider (ordered by site rank):"),c.PIList.map(function(e){return i.default.createElement(h.FlexBox,{justifyContent:"space-between",key:e.name},i.default.createElement(h.FlexItem,{className:"label"},e.name||"-"))})),g&&i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{style:{height:"1px",background:"white",margin:"8px 0",opacity:.8}}),i.default.createElement(h.FlexBox,{justifyContent:"space-between",style:{marginTop:"12px "}},i.default.createElement(h.FlexItem,{className:"label bold"},"REMOVE"===g?"Removed":"Added")),i.default.createElement(h.FlexBox,{justifyContent:"space-between"},i.default.createElement(h.FlexItem,{className:"label disabled"},"Reason:")),i.default.createElement(h.FlexBox,{justifyContent:"space-between"},i.default.createElement(h.FlexItem,{className:"label"},d&&(0,f.default)(d.find(function(e){return+e.id==+c.state.reason_id}),"text","-"))))),w=null,N=null;return p||c.raw?p&&!c.raw&&c.is_recommended_by_FPO?(w=i.default.createElement("span",null,"Site with Novartis experience"),N=c.ranking):c.raw?(w=i.default.createElement("span",null,"Not recommended site due to insufficient data"),N="N/A"):p&&!c.is_recommended_by_FPO&&(w=i.default.createElement("span",null,"Site with Novartis experience"),N=c.ranking):(w=i.default.createElement("span",null,"Site without Novartis experience",i.default.createElement("br",null)," (external site, no historical data available)"),N=(0,f.default)(c,"studyLevelData.ranking")),i.default.createElement(v.CellGroup,{direction:"row",className:"sites-data"},i.default.createElement(v.CellGroup,{width:48,fixedWidth:!0,className:"data-group rank"},i.default.createElement(v.Cell,{overflow:!0,className:(0,o.default)("value-cell","align--right",{selected:c.is_recommended_by_FPO,internal:p,external:!p&&!c.raw,active:c.isActive})},i.default.createElement("div",{onClick:function(e){return e.stopPropagation()},className:(0,o.default)("sites-multiedit-checkbox__wrapper",{hidden:!n||(0,f.default)(c,"studyLevelData.randomized_patients",0)&&"SELECTED"===u})},i.default.createElement(S.default,{label:"",onChange:function(){return s(c.investigator_center_id)},checked:c.multiSelected})),w?i.default.createElement(E.default,{overlay:w,mouseEnterDelay:.3},i.default.createElement("div",{className:"rank__value"},c.raw?i.default.createElement("span",{className:"rank__icon"},_.Icons.FLAG):null,i.default.createElement("span",{className:(0,o.default)("ranking",{raw:c.raw})},N)," ")):i.default.createElement("div",{className:"rank__value"},c.raw?i.default.createElement("span",{className:"rank__icon"},_.Icons.FLAG):null,i.default.createElement("span",{className:(0,o.default)("ranking",{raw:c.raw})},N)," "))),i.default.createElement(E.default,{align:{offset:[0,0]},destroyTooltipOnHide:!0,mouseEnterDelay:.3,mouseLeaveDelay:.3,placement:"bottomLeft",overlay:i.default.createElement("div",{className:"country-sites-trials",onClick:function(e){return l(e,t)}},i.default.createElement(h.FlexBox,{direction:"column"},b))},i.default.createElement(v.CellGroup,{width:100,className:"data-group site-pi"},i.default.createElement(v.Cell,{className:(0,o.default)("value-cell",{selected:c.is_recommended_by_FPO,active:c.isActive})},i.default.createElement("div",null,(0,f.default)(c,"investigator_center.investigator.name")||""," ")))),i.default.createElement(E.default,{align:{offset:[0,0]},destroyTooltipOnHide:!0,mouseEnterDelay:.3,mouseLeaveDelay:.3,placement:"bottomLeft",overlay:i.default.createElement("div",{className:"country-sites-trials",onClick:function(e){return l(e,t)}},i.default.createElement(h.FlexBox,{direction:"column"},b))},i.default.createElement(v.CellGroup,{width:245,className:"data-group site-name"},i.default.createElement(v.Cell,{className:(0,o.default)("value-cell",{selected:c.is_recommended_by_FPO,active:c.isActive})},i.default.createElement("div",null,(0,f.default)(c,"investigator_center.center.name"))))))};y.defaultProps={rowIndex:-1,multieditView:!1,dataType:"SELECTED"},y.propTypes={rowIndex:u.default.number,data:u.default.array.isRequired,cellClickHandler:u.default.func.isRequired,multieditView:u.default.bool,onMultiSelect:u.default.func.isRequired,dataType:u.default.string},t.default=y},2414:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),n=l(r),i=a(1),s=l(i),u=a(2),d=l(u),o=a(7),c=a(16),f=a(15),m=a(6),p=a(14),E=l(p),v=a(64),h=l(v),g=a(2409),S=l(g),_=a(310),y=a(311),C=a(73),b=a(28);a(2480);var w=function(e){var t=e.handleSort,a=e.sortData,l=e.toggleShowInternalSites,i=e.toggleShowExternalSites,s=e.showInternalSites,u=e.showExternalSites,o=e.selectedSitesCount,c=e.toggleShowInitialSelection,p=e.showInitialSelection,v=e.sitesListCustomized,g=e.otherSitesView,_=e.showFilterPanel,y=e.toggleShowFilterPanel,b=e.piPediatric,w=e.piAdolescence,N=e.pcPediatric,R=e.pcAdolescence,I=e.toggleShowFilteredData,T=e.rawSitesView,A=e.externalSitesView,O=e.toggleSelectedTableViewState,D=e.toggleOtherTableViewState,x=e.toggleRawTableViewState,P=e.selectedTableExpanded,L=e.otherTableExpanded,k=e.rawTableExpanded,F=e.active,V=(0,r.useRef)(),M=(0,r.useCallback)(function(e){F&&(e.target&&e.target.closest(".filters-panel__wrapper")||_&&V.current.contains(e.target)||_&&y())},[y,_,F]);(0,r.useEffect)(function(){return _&&document.addEventListener("click",M),_||document.removeEventListener("click",M),function(){document.removeEventListener("click",M)}},[_,M]);var q=[{name:"Internal",value:s,func:l},{name:"External",value:u,func:i},{name:"PI: Pediatric",value:b,field:"piPediatric",func:I},{name:"PI: Adolescence",value:w,field:"piAdolescence",func:I},{name:"PC: Pediatric",value:N,field:"pcPediatric",func:I},{name:"PC: Adolescence",value:R,field:"pcAdolescence",func:I},{name:"Initial FPO Selection",value:p,func:c}],j=q.reduce(function(e,t){return t.value&&e.push(n.default.createElement("div",{className:"site-filter__tag",key:t.name},n.default.createElement("div",{className:"site-filter__tag-label"},t.name),n.default.createElement("div",{className:"site-filter__tag-remove",onClick:function(){return t.func(t.field)}},m.Icons.CROSS))),e},[]),G=C.SELECTED_SITES+" ("+o+")",H={expand:P},B=O;return g&&(G=C.VIEW_NOT_SELECTED_SITES,H={expand:L},B=D),A&&(G=C.VIEW_EXTERNAL_SITES,H={expand:k},B=x),T&&(G=C.VIEW_RAW_SITES,H={expand:k},B=x),n.default.createElement(f.CellGroup,null,n.default.createElement(f.Cell,{className:"cell-caption",overflow:!0},n.default.createElement("h3",null,n.default.createElement("div",{className:"inline-flex__wrapper"},n.default.createElement("span",{onClick:function(){return B()}},n.default.createElement("span",{className:(0,d.default)("table__control",H)},m.Icons.CHEVRON_DOWN),n.default.createElement("span",{className:"column__label"},G)),!v||g||T?null:n.default.createElement(E.default,{mouseEnterDelay:.3,overlay:n.default.createElement("div",null,"Customized")},n.default.createElement("span",null,m.Icons.INFO_O)),n.default.createElement(S.default,{active:F})))),n.default.createElement(f.CellGroup,{direction:"row",className:"header-group"},n.default.createElement(f.Cell,{className:"header-cell"},n.default.createElement("div",{className:"inline-flex__wrapper"},n.default.createElement("div",{className:(0,d.default)("filters-panel__toggle",{opened:_}),onClick:y},n.default.createElement("div",{className:"filters-panel__toggle-label"},"Filters ",_?m.Icons.CHEVRON_UP:m.Icons.CHEVRON_DOWN),n.default.createElement("div",{className:"filters-panel__toggle-underline"})),n.default.createElement("div",{ref:V,onClick:function(e){return e.stopPropagation()},className:(0,d.default)("filters-panel__wrapper",{hidden:!_,extended:v})},n.default.createElement("div",{className:"filter-panel__flex"},n.default.createElement("div",{className:"filter-panel__flex-1"},n.default.createElement("h4",null,"Sites:"),n.default.createElement(h.default,{disabled:u,label:"Internal",customLabel:n.default.createElement("div",{className:"site-source internal"},"Internal"),onChange:l,checked:s})),n.default.createElement("div",{className:"filter-panel__flex-1"},n.default.createElement("h4",null," "),n.default.createElement(h.default,{disabled:s,label:"External",customLabel:n.default.createElement("div",{className:"site-source external"},"External"),onChange:i,checked:u}))),n.default.createElement("div",{className:"filter-panel__flex"},n.default.createElement("div",{className:"filter-panel__flex-1"},n.default.createElement("h4",null,"PI experience"),n.default.createElement(h.default,{label:"Pediatric",onChange:function(){return I("piPediatric")},checked:b}),n.default.createElement(h.default,{label:"Adolescence",onChange:function(){return I("piAdolescence")},checked:w})),n.default.createElement("div",{className:"filter-panel__flex-1"},n.default.createElement("h4",null,"Center experience"),n.default.createElement(h.default,{label:"Pediatric",onChange:function(){return I("pcPediatric")},checked:N}),n.default.createElement(h.default,{label:"Adolescence",onChange:function(){return I("pcAdolescence")},checked:R}))),n.default.createElement("div",{className:"filter-panel__flex"},n.default.createElement("div",{className:"filter-panel__flex-1"},v&&n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:"separator__line"}),n.default.createElement(h.default,{label:"Initial FPO selection",customLabel:n.default.createElement("div",{className:"site-source internal color-blue"},"Initial FPO selection"),onChange:c,checked:p}))))),n.default.createElement("div",{className:"tags-wrapper"},j)))),n.default.createElement(f.CellGroup,{direction:"row",className:"header-group header-group-narrow"},n.default.createElement(f.CellGroup,{width:48,fixedWidth:!0,className:"header-group rank"},n.default.createElement(f.SortHeaderCell,{className:"header-cell-category",sortDir:a.direction,onSortChange:t,sortKey:"ranking"},n.default.createElement(E.default,{mouseEnterDelay:.3,overlay:"FPO rank of sites based on combined predictions of enrolment parameters"},n.default.createElement("div",null,n.default.createElement("div",{className:(0,d.default)("align-left",{active:"ranking"===a.active})},"Rank"),t?n.default.createElement("div",{className:"sort-direction"},"ASC"===a.direction?m.Icons.FILTER_DESCENDING:m.Icons.FILTER_ASCENDING):null,n.default.createElement("div",{className:"header-cell-underline"}))))),n.default.createElement(f.CellGroup,{width:100,className:"header-group"},n.default.createElement(f.SortHeaderCell,{className:"header-cell-category",sortDir:a.direction,onSortChange:t,sortKey:"site_pi"},n.default.createElement("div",null,n.default.createElement("div",{className:(0,d.default)("align-left",{active:"site_pi"===a.active})},"PI"),t?n.default.createElement("div",{className:"sort-direction"},"ASC"===a.direction?m.Icons.FILTER_DESCENDING:m.Icons.FILTER_ASCENDING):null,n.default.createElement("div",{className:"header-cell-underline"})))),n.default.createElement(f.CellGroup,{width:245,className:"header-group"},n.default.createElement(f.SortHeaderCell,{className:"header-cell-category",sortDir:a.direction,onSortChange:t,sortKey:"site_name"},n.default.createElement("div",null,n.default.createElement("div",{className:(0,d.default)("align-left",{active:"site_name"===a.active})},"Primary center"),t?n.default.createElement("div",{className:"sort-direction"},"ASC"===a.direction?m.Icons.FILTER_DESCENDING:m.Icons.FILTER_ASCENDING):null,n.default.createElement("div",{className:"header-cell-underline"}))))))};w.defaultProps={selectedSitesCount:0,sitesListCustomized:!1,otherSitesView:!1,rawSitesView:!1,externalSitesView:!1,showFilterPanel:!1,piPediatric:!1,piAdolescence:!1,piPhase:!1,pcPediatric:!1,pcAdolescence:!1,pcPhase:!1,selectedTableExpanded:!0,otherTableExpanded:!0,rawTableExpanded:!1,active:!1},w.propTypes={otherSitesView:s.default.bool,rawSitesView:s.default.bool,externalSitesView:s.default.bool,toggleShowInternalSites:s.default.func.isRequired,toggleShowExternalSites:s.default.func.isRequired,showInternalSites:s.default.bool.isRequired,showExternalSites:s.default.bool.isRequired,selectedSitesCount:s.default.number,handleSort:s.default.func.isRequired,sortData:s.default.object.isRequired,toggleShowInitialSelection:s.default.func.isRequired,showInitialSelection:s.default.bool.isRequired,sitesListCustomized:s.default.bool,showFilterPanel:s.default.bool,toggleShowFilterPanel:s.default.func.isRequired,piPediatric:s.default.bool,piAdolescence:s.default.bool,pcPediatric:s.default.bool,pcAdolescence:s.default.bool,toggleShowFilteredData:s.default.func.isRequired,toggleSelectedTableViewState:s.default.func.isRequired,toggleOtherTableViewState:s.default.func.isRequired,toggleRawTableViewState:s.default.func.isRequired,selectedTableExpanded:s.default.bool,otherTableExpanded:s.default.bool,rawTableExpanded:s.default.bool,active:s.default.bool};var N=function(e,t){var a=(0,b.getRouteMatch)(t);return{studyId:t.studyId,sortData:e.sites.sortData,showInternalSites:e.sites.showInternalSites,showExternalSites:e.sites.showExternalSites,showFilterPanel:e.sites.showFilterPanel,showInitialSelection:e.sites.showInitialSelection,sitesListCustomized:(0,y.areSitesListCustomized)(e,a),piPediatric:e.sites.piPediatric,piAdolescence:e.sites.piAdolescence,pcPediatric:e.sites.pcPediatric,pcAdolescence:e.sites.pcAdolescence,selectedTableExpanded:e.sites.selectedTableExpanded,otherTableExpanded:e.sites.otherTableExpanded,rawTableExpanded:e.sites.rawTableExpanded}},R={toggleShowFilteredData:_.toggleShowFilteredDataView,toggleShowInternalSites:_.toggleInternalSitesView,toggleShowExternalSites:_.toggleExternalSitesView,toggleShowInitialSelection:_.toggleInitialSelection,toggleShowFilterPanel:_.toggleFilterPanel,toggleSelectedTableViewState:_.setSelectedTableState,toggleOtherTableViewState:_.setOtherTableState,toggleRawTableViewState:_.setRawTableState};t.default=(0,c.withRouter)((0,o.connect)(N,R)(w))},2415:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var l in e)t.indexOf(l)>=0||Object.prototype.hasOwnProperty.call(e,l)&&(a[l]=e[l]);return a}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},d=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),o=a(0),c=l(o),f=a(1),m=l(f),p=a(2),E=l(p),v=a(314),h=l(v),g=a(2317),S=l(g),_=a(6),y=a(14),C=l(y);a(2479);var b={ASC:"ASC",DESC:"DESC"},w=function(e){function t(e){n(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={opened:!1},a.onSortChange=a.onSortChange.bind(a),a.selectChanged=a.selectChanged.bind(a),a}return s(t,e),d(t,[{key:"onSortChange",value:function(e){e.stopPropagation();var t=b.DESC,a=b.ASC;this.props.onSortChange&&this.props.onSortChange(this.props.sortKey,this.props.sortDir?function(e){return e===a?t:a}(this.props.sortDir):"ASC")}},{key:"selectChanged",value:function(e){this.setState({opened:e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.sortData,l=t.sortKey,n=t.className,i=t.sortDir,s=r(t,["sortData","sortKey","className","sortDir"]),d=this.props.options.find(function(t){return t.key===e.props.selected}),o=d.tooltip||d.value;return c.default.createElement(h.default,u({},s,{className:"sort-select-header-cell "+n,overflow:!0}),c.default.createElement(C.default,{align:{offset:[0,0]},overlay:o},c.default.createElement("span",null,c.default.createElement("div",{className:(0,E.default)("align-left",{active:a.active===l})},c.default.createElement(S.default,{selected:this.props.selected,options:this.props.options,onSelect:this.props.onSelect,onStatusChange:this.selectChanged})),this.props.onSortChange&&!this.state.opened?c.default.createElement("div",{className:"sort-direction",onClick:this.onSortChange},"ASC"===i?_.Icons.FILTER_DESCENDING:_.Icons.FILTER_ASCENDING):null,c.default.createElement("div",{className:"header-cell-underline"}))))}}]),t}(o.Component);w.propTypes={className:m.default.string,onSortChange:m.default.func,sortDir:m.default.oneOf([b.ASC,b.DESC]),sortKey:m.default.string.isRequired,options:m.default.array.isRequired,selected:m.default.string,onSelect:m.default.func.isRequired,sortData:m.default.object.isRequired},w.defaultProps={className:void 0,onSortChange:void 0,sortDir:void 0,selected:void 0},t.default=w},2416:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),u=a(0),d=l(u),o=a(1),c=l(o),f=a(23),m=a(29),p=a(116),E=a(166),v=a(11),h=l(v),g=a(191),S=l(g),_=a(130),y=a(8);a(315);var C=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleResize=function(){a.debounced()},a.renderChart=function(){(0,f.select)("#svg_wrapper_country-updates-stat-chart").select(".svg-container").remove();var e=a.state.data,t=a.props,l=t.startDate,r=t.endDate;if(e&&l&&r&&!e.error){var n=a.container;if(n){var i={top:4,right:40,bottom:4,left:40},s=e.lpft,u=(0,y.getMomentDate)(r),d=e.expectedLpft,o=[s,u,d],c=(0,m.max)(o),v=n.getBoundingClientRect().width-i.left-i.right,g=86-i.top-i.bottom,S=(0,f.select)("#svg_wrapper_country-updates-stat-chart"),C=S.append("div").classed("svg-container",!0).append("svg").attr("width",v+i.left+i.right).attr("height",g+i.top+i.bottom),b=C.append("g").attr("transform","translate("+i.left+","+i.top+")"),w=(0,p.scaleTime)().rangeRound([0,v]);if(!c)return void b.append("text").attr("transform","translate("+v/2+","+g/2+")").attr("text-anchor","middle").classed("no-data-message",!0).text("There is not enough data to build a chart yet");if(c.isSameOrBefore(l))return(0,f.select)("#enrolment-chart__legend-toggle").style("display","none"),void b.append("text").translate([v/2,g/2]).attr("text-anchor","middle").classed("no-data-message",!0).text("The approved scenario and graph cannot be loaded due to data inconsistencies");w.domain([l,c]),b.append("rect").attr("transform","translate(0,46)").attr("width",v).attr("height",16).attr("class","chart-background").st({fill:_.COLORS.BLACK,opacity:.04}),b.append("rect").attr("transform","translate(0,46)").attr("x",-30).attr("width",30).attr("height",16).attr("class","chart-background side").st({fill:_.COLORS.BLACK,opacity:.02}),b.append("rect").attr("transform","translate(0,46)").attr("x",v).attr("width",30).attr("height",16).attr("class","chart-background side").st({fill:_.COLORS.BLACK,opacity:.02});var N=(0,_.getMonthsTickValues)(l,c,10),R=(0,E.axisBottom)().scale(w).tickValues(N).tickSizeOuter(0);(0,_.injectPatternDefs)(C,"actualPattern1",d<u?_.COLORS.GREEN:_.COLORS.RED);var I=[{x:function(){return w(l.isSameOrBefore(u)?s<u?s:u:s<u?s:l)},y:46,width:function(){return l.isSameOrBefore(u)?s<u?w(u)-w(s):w(s)-w(u):s<u?w(u)-w(s):w(s)-w(l)},height:16,fill:s<u?_.COLORS.GREEN:_.COLORS.RED,opacity:.2},{x:function(){return w(l.isSameOrBefore(u)?d<u?d:u:d<u?d:l)},y:46,width:function(){return l.isSameOrBefore(u)?d<u?w(u)-w(d):w(d)-w(u):d<u?w(u)-w(d):w(d)-w(l)},height:16,fill:"url(#actualPattern1)",opacity:.6},{x:function(){return w(l.isSameOrBefore(u)?d<u?d:u:d<u?d:l)},y:46,width:function(){return l.isSameOrBefore(u)?d<u?w(u)-w(d):w(d)-w(u):d<u?w(u)-w(d):w(d)-w(l)},height:16,fill:d<u?_.COLORS.GREEN:_.COLORS.RED,opacity:.2}];s&&(0,_.drawOverflowRect)(b,I[0]),d&&((0,_.drawOverflowRect)(b,I[1]),(0,_.drawOverflowRect)(b,I[2]));var T=b.append("g").attr("class","axis axis--x").attr("transform","translate(0,28)").call(R);T.selectAll("text").attr("class","tick").attr("y",3).st({textTransform:"uppercase",fontSize:"12px",fontFamily:"VoltaModern, sans-serif"}).style("text-anchor","middle").text(function(e){return(0,h.default)(e).format("MMM YY")}).attr("transform","translate(0, 36)"),T.selectAll("line").attr("class","tick-line").st({fill:"none",stroke:_.COLORS.BLACK,shapeRendering:"crispEdges",strokeWidth:"1px"}).attr("y2","-4").attr("y2","10").attr("transform","translate(0.5, 24)"),T.selectAll("path").st({fill:"none",stroke:_.COLORS.BLACK,opacity:0,shapeRendering:"crispEdges"});var A={stroke:_.COLORS.MID_GREY,strokeWidth:"4px",opacity:.6},O={stroke:_.COLORS.GREY,strokeWidth:"16px"},D=b.append("g").attr("transform","translate(0, 32)");D.append("line").attr("x2",v).classed("milestones-bar-background",!0).st(O),D.append("line").attr("x2",v).classed("milestones-bar",!0).st(A);var x=(0,_.appendFppMark)(D,w(l));x.append("line").attr("y1",10).attr("y2",30).style("stroke","black").style("stroke-width","2px"),(0,_.appendNarrowLabelToMilestone)(x,"FP",_.COLORS.BLACK,_.COLORS.WHITE,_.COLORS.BLACK,-64),x.append("line").attr("y1",-12).attr("y2",-16).style("stroke",_.COLORS.BLACK).style("stroke-width","1px");var P=void 0;u&&u.isAfter(l)&&(P=D.append("g").attr("transform","translate("+w(u)+")"),P.append("circle").style("stroke","black").style("stroke-width","2px").style("fill",_.COLORS.WHITE).attr("r",9),P.append("circle").style("fill",_.COLORS.BLACK).attr("r",6),P.append("line").attr("y1",10).attr("y2",30).style("stroke","black").style("stroke-dasharray","6 3").style("stroke-width","1px"),(0,_.appendNarrowLabelToMilestone)(P,"T/LPFT",_.COLORS.BLACK,_.COLORS.BLACK,_.COLORS.WHITE,-64),P.append("line").attr("y1",-12).attr("y2",-16).style("stroke",_.COLORS.BLACK).style("stroke-width","1px"));var L=void 0;s&&(L=D.append("g").attr("transform","translate("+w(s)+")"),L.append("line").attr("y1",10).attr("y2",30).style("stroke","black").style("stroke-width","2px"),L.append("circle").style("stroke","black").style("stroke-width","2px").style("fill",_.COLORS.WHITE).attr("r",9),L.append("circle").style("fill",function(){return s<=u?_.COLORS.GREEN:_.COLORS.RED}).attr("r",6),(0,_.appendNarrowLabelToMilestone)(L,"P/LPFT",_.COLORS.BLACK,_.COLORS.WHITE,_.COLORS.BLACK,-64),L.append("line").attr("y1",-12).attr("y2",-16).style("stroke",_.COLORS.BLACK).style("stroke-width","1px"));var k=void 0;d&&(k=D.append("g").attr("transform","translate("+w(d)+")"),k.append("line").attr("y1",10).attr("y2",30).style("stroke","black").style("stroke-width","2px"),k.append("circle").style("stroke","black").style("stroke-width","2px").style("fill",_.COLORS.WHITE).attr("r",9),k.append("circle").style("fill",function(){return d<=u?_.COLORS.GREEN:_.COLORS.RED}).attr("r",6),(0,_.appendNarrowLabelToMilestone)(k,"S/LPFT",_.COLORS.BLACK,_.COLORS.WHITE,_.COLORS.BLACK,-64),k.append("line").attr("y1",-12).attr("y2",-16).style("stroke",_.COLORS.BLACK).style("stroke-width","1px"))}}},a.state={data:e.data},a.debounced=(0,S.default)(a.renderChart,200),a}return i(t,e),s(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize),this.renderChart()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({data:e.data},function(){t.renderChart()})}},{key:"componentDidUpdate",value:function(){this.renderChart()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"render",value:function(){var e=this;return d.default.createElement("div",{ref:function(t){e.container=t},className:"svg-wrapper",id:"svg_wrapper_country-updates-stat-chart"})}}]),t}(d.default.Component);C.defaultProps={data:null,startDate:null,endDate:null},C.propTypes={data:c.default.object,startDate:c.default.object,endDate:c.default.object},t.default=C},2417:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},n=a(0),i=l(n),s=a(1),u=l(s),d=a(7),o=a(16),c=a(12),f=l(c),m=a(54),p=l(m),E=a(2),v=l(E),h=a(129),g=l(h),S=a(17),_=a(82),y=l(_),C=a(2416),b=l(C),w=a(2419),N=a(2392),R=l(N),I=a(2314),T=a(33),A=a(310),O=a(55),D=l(O),x=a(96),P=l(x),L=a(28),k=a(749),F=a(53),V=a(63);a(2482);var M=(0,g.default)(D.default),q=function(e){var t=e.studyId,a=e.scenarioId,l=e.countryId,s=e.selectedSitesNum,u=e.selectedSitesAverageRR,d=e.selectedSitesExpectedCountryData,o=e.scenarioStartDate,c=e.scenarioEndDate,m=e.hasSelectedSitesWithoutRR,E=e.editableByTom,h=e.saveOverridesData,g=e.loadingSites,_=e.isAdjusted,C=e.updateCountrySites,N=e.hasChanges,T=(0,n.useCallback)(function(){return C(t,a,l,!0)},[t,a,l,C]),A=(0,n.useContext)(I.CountryDataContext),O=(0,f.default)(A,"countryPlannedData",null),D=_?["adjusted_num_sites","adjusted_randomisation_rate","adjusted_lpft","adjusted_overallocatedData"]:["num_sites","randomisation_rate","lpft","overallocatedData"],L=(0,p.default)(O,D),k=void 0,F=void 0,V=void 0,M=void 0;_?(k=L.adjusted_num_sites,F=L.adjusted_randomisation_rate,V=L.adjusted_lpft,M=L.adjusted_overallocatedData):(k=L.num_sites,F=L.randomisation_rate,V=L.lpft,M=L.overallocatedData);var q=V;M&&(q=M.lpft);var j=null;d&&(j=d.overallocatedData?d.overallocatedData.lpft:_?d.adjusted_lpft:d.lpft);var G=k===s&&(+F).toFixed(9)===(+u).toFixed(9),H=void 0;return H=m?i.default.createElement("div",{className:"country-sites-updates-stat__item-loader"},"One or more selected sites does not have randomization rate value. Please, edit country parameters according to site selection"):!d||g?i.default.createElement(w.CountryUpdatesStatChartLoader,null):i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"country-sites-updates-stat__data-item"},i.default.createElement("div",{className:"country-sites-updates-stat__data-item-title"},"Planned"),i.default.createElement("div",null,i.default.createElement("span",null,"Sites:"),i.default.createElement("span",null,k)),i.default.createElement("div",null,i.default.createElement("span",null,"RR:"),i.default.createElement("span",null,(0,P.default)(F))),i.default.createElement("div",null,i.default.createElement("span",null,"LPFT:"),i.default.createElement("span",{className:(0,v.default)({green:q&&q.isSameOrBefore(c,"day"),red:q&&q.isAfter(c,"day")})},(0,x.getFormattedDate)(q)))),i.default.createElement(y.default,{className:"separator",size:"extraLarge"}),i.default.createElement("div",{className:"country-sites-updates-stat__data-item"},i.default.createElement("div",{className:"country-sites-updates-stat__data-item-title"},"Selected"),i.default.createElement("div",null,i.default.createElement("span",null,"Sites:"),i.default.createElement("span",null,s)),i.default.createElement("div",null,i.default.createElement("span",null,"RR:"),i.default.createElement("span",null,(0,P.default)(u))),i.default.createElement("div",null,i.default.createElement("span",null,"LPFT:"),i.default.createElement("span",{className:(0,v.default)({green:j&&j.isSameOrBefore(c,"day"),red:j&&j.isAfter(c,"day")})},(0,x.getFormattedDate)(j)))),i.default.createElement(y.default,{className:"separator",size:"extraLarge"}),i.default.createElement("div",{style:{flex:1,padding:"0 12px"}},i.default.createElement(b.default,{data:r({},d,{lpft:q,expectedLpft:j}),startDate:o,endDate:c})),E&&j&&!G&&i.default.createElement(i.default.Fragment,null,i.default.createElement(y.default,{className:"separator",size:"extraLarge"}),i.default.createElement(R.default,{hasChanges:N,saveData:T,scenarioStartDate:o,selectedSitesAverageRR:u,selectedSitesNum:s,saveOverridesData:h}))),i.default.createElement(S.Row,null,i.default.createElement(S.Col,{offset:1,width:11},i.default.createElement("div",{className:"country-sites-updates-stat__container"},i.default.createElement("div",{className:"country-sites-updates-stat__wrapper"},H))))};q.defaultProps={selectedSitesNum:0,selectedSitesAverageRR:0,selectedSitesExpectedCountryData:null,scenarioStartDate:null,scenarioEndDate:null,hasSelectedSitesWithoutRR:!1,editableByTom:!1,loadingSites:!1,isAdjusted:!1,hasChanges:!1},q.propTypes={studyId:u.default.oneOfType([u.default.number,u.default.string]).isRequired,scenarioId:u.default.oneOfType([u.default.number,u.default.string]).isRequired,countryId:u.default.oneOfType([u.default.number,u.default.string]).isRequired,selectedSitesNum:u.default.number,selectedSitesAverageRR:u.default.number,selectedSitesExpectedCountryData:u.default.object,scenarioStartDate:u.default.object,scenarioEndDate:u.default.object,hasSelectedSitesWithoutRR:u.default.bool,editableByTom:u.default.bool,saveOverridesData:u.default.func.isRequired,loadingSites:u.default.bool,isAdjusted:u.default.bool,updateCountrySites:u.default.func.isRequired,hasChanges:u.default.bool};var j=function(e,t){var a=(0,L.getRouteMatch)(t),l=(0,F.getScenarioData)(e,a),r=e.auth.user,n=(0,V.getStudyData)(e,a),i=M(r,n,l),s=(0,k.getSelectedSitesAverageRR)(e,a);return{scenarioStartDate:(0,f.default)(l,"fp"),scenarioEndDate:(0,f.default)(l,"end_date"),selectedSitesNum:(0,k.getSelectedSitesCount)(e,a),selectedSitesAverageRR:s,selectedSitesExpectedCountryData:(0,k.getSelectedSitesExpectedCountryData)(e,a),hasSelectedSitesWithoutRR:0===s,editableByTom:i.isEditable&&(i.isAdmin||i.isUserHasScenarioFullControl)&&(0,f.default)(l,"site_selection_required"),isAdjusted:l&&!!l.source_scenario_id,hasChanges:e.sites.hasChanges}},G={saveOverridesData:T.saveOverrides,updateCountrySites:A.updateSites};t.default=(0,o.withRouter)((0,d.connect)(j,G)(q))},2418:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(0),r=function(e){return e&&e.__esModule?e:{default:e}}(l),n=function(){return r.default.createElement("div",{style:{width:"100%",height:"280px"},title:"Loading sites list..."},r.default.createElement("svg",{width:"100%",height:"280px"},r.default.createElement("defs",null,r.default.createElement("clipPath",{id:"uun7xtu4kb"},r.default.createElement("rect",{x:"0",y:"0",width:"100%",height:"40px"}),r.default.createElement("rect",{x:"0",y:"60",width:"100%",height:"40px"}),r.default.createElement("rect",{x:"0",y:"120",width:"100%",height:"40px"}),r.default.createElement("rect",{x:"0",y:"180",width:"100%",height:"40px"}),r.default.createElement("rect",{x:"0",y:"240",width:"100%",height:"40px"})),r.default.createElement("linearGradient",{id:"uiukws9a2d"},r.default.createElement("stop",{offset:"0%",stopColor:"#f0f0f0",stopOpacity:"1"},r.default.createElement("animate",{attributeName:"offset",values:"-2; -2; 1",keyTimes:"0; 0.25; 1",dur:"2s",repeatCount:"indefinite"})),r.default.createElement("stop",{offset:"50%",stopColor:"#e0e0e0",stopOpacity:"1"},r.default.createElement("animate",{attributeName:"offset",values:"-1; -1; 2",keyTimes:"0; 0.25; 1",dur:"2s",repeatCount:"indefinite"})),r.default.createElement("stop",{offset:"100%",stopColor:"#f0f0f0",stopOpacity:"1"},r.default.createElement("animate",{attributeName:"offset",values:"0; 0; 3",keyTimes:"0; 0.25; 1",dur:"2s",repeatCount:"indefinite"})))),r.default.createElement("rect",{x:"0",y:"0",width:"100%",height:"40px",clipPath:"url(#uun7xtu4kb)",fill:"url(#uiukws9a2d)"}),r.default.createElement("rect",{x:"0",y:"60",width:"100%",height:"40px",clipPath:"url(#uun7xtu4kb)",fill:"url(#uiukws9a2d)"}),r.default.createElement("rect",{x:"0",y:"120",width:"100%",height:"40px",clipPath:"url(#uun7xtu4kb)",fill:"url(#uiukws9a2d)"}),r.default.createElement("rect",{x:"0",y:"180",width:"100%",height:"40px",clipPath:"url(#uun7xtu4kb)",fill:"url(#uiukws9a2d)"}),r.default.createElement("rect",{x:"0",y:"240",width:"100%",height:"40px",clipPath:"url(#uun7xtu4kb)",fill:"url(#uiukws9a2d)"})))};t.default=n},2419:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CountryUpdatesStatChartLoader=t.CountryUpdatesStatItemLoader=void 0;var r=a(0),n=l(r),i=a(1),s=l(i),u=a(2),d=l(u),o=a(456),c=l(o),f=a(6),m=t.CountryUpdatesStatItemLoader=function(e){var t=e.long;return n.default.createElement("div",{className:(0,d.default)("country-sites-updates-stat__item-loader",{long:t})},n.default.createElement(c.default,{width:t?220:160,height:86,preserveAspectRatio:"none"},n.default.createElement("rect",{x:"0",y:"20",width:t?220:160,height:"20"}),n.default.createElement("rect",{x:"0",y:"50",width:t?220:160,height:"20"})))};m.defaultProps={long:!1},m.propTypes={long:s.default.bool},t.CountryUpdatesStatChartLoader=function(){return n.default.createElement("div",{className:(0,d.default)("country-sites-updates-stat__chart-loader")},f.Icons.ITEM_LOADER)}},2426:function(e,t,a){t=e.exports=a(3)(void 0),t.push([e.i,"",""])},2428:function(e,t,a){t=e.exports=a(3)(void 0),t.push([e.i,"",""])},2434:function(e,t,a){t=e.exports=a(3)(void 0),t.push([e.i,"",""])},2435:function(e,t,a){t=e.exports=a(3)(void 0),t.push([e.i,"",""])},2436:function(e,t,a){t=e.exports=a(3)(void 0),t.push([e.i,"",""])},2437:function(e,t,a){t=e.exports=a(3)(void 0),t.push([e.i,"",""])},2438:function(e,t,a){t=e.exports=a(3)(void 0),t.push([e.i,"",""])},2439:function(e,t,a){t=e.exports=a(3)(void 0),t.push([e.i,"",""])},2466:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),n=l(r),i=a(1),s=l(i),u=function(e){var t=e.breakLabel,a=e.breakClassName,l=e.breakLinkClassName,r=e.onClick,i=a||"break";return n.default.createElement("li",{className:i},n.default.createElement("a",{className:l,onClick:r,role:"button",tabIndex:"0",onKeyPress:r},t))};u.propTypes={breakLabel:s.default.oneOfType([s.default.string,s.default.node]),breakClassName:s.default.string,breakLinkClassName:s.default.string,onClick:s.default.func.isRequired},t.default=u},2467:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),n=l(r),i=a(1),s=l(i),u=function(e){var t=e.pageClassName,a=e.pageLinkClassName,l=e.onClick,r=e.href,i=e.ariaLabel||"Page "+e.page+(e.extraAriaContext?" "+e.extraAriaContext:""),s=null;return e.selected&&(s="page",i=e.ariaLabel||"Page "+e.page+" is your current page",t=void 0!==t?t+" "+e.activeClassName:e.activeClassName,void 0!==a?void 0!==e.activeLinkClassName&&(a=a+" "+e.activeLinkClassName):a=e.activeLinkClassName),n.default.createElement("li",{className:t},n.default.createElement("a",{onClick:l,role:"button",className:a,href:r,tabIndex:"0","aria-label":i,"aria-current":s,onKeyPress:l},e.page))};u.propTypes={onClick:s.default.func.isRequired,selected:s.default.bool.isRequired,pageClassName:s.default.string,pageLinkClassName:s.default.string,activeClassName:s.default.string,activeLinkClassName:s.default.string,extraAriaContext:s.default.string,href:s.default.string,ariaLabel:s.default.string,page:s.default.number.isRequired},t.default=u},2468:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),u=a(0),d=l(u),o=a(1),c=l(o),f=a(2467),m=l(f),p=a(2466),E=l(p),v=function(e){function t(e){r(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.handlePreviousPage=function(e){var t=a.state.selected;e.preventDefault?e.preventDefault():e.returnValue=!1,t>0&&a.handlePageSelected(t-1,e)},a.handleNextPage=function(e){var t=a.state.selected,l=a.props.pageCount;e.preventDefault?e.preventDefault():e.returnValue=!1,t<l-1&&a.handlePageSelected(t+1,e)},a.handlePageSelected=function(e,t){t.preventDefault?t.preventDefault():t.returnValue=!1,a.state.selected!==e&&(a.setState({selected:e}),a.callCallback(e))},a.handleBreakClick=function(e,t){t.preventDefault?t.preventDefault():t.returnValue=!1;var l=a.state.selected;a.handlePageSelected(l<e?a.getForwardJump():a.getBackwardJump(),t)},a.callCallback=function(e){void 0!==a.props.onPageChange&&"function"==typeof a.props.onPageChange&&a.props.onPageChange({selected:e})},a.pagination=function(){var e=[],t=a.props,l=t.pageRangeDisplayed,r=t.pageCount,n=t.marginPagesDisplayed,i=t.breakLabel,s=t.breakClassName,u=t.breakLinkClassName,o=a.state.selected;if(r<=l)for(var c=0;c<r;c++)e.push(a.getPageElement(c));else{var f=l/2,m=l-f;o>r-l/2?(m=r-o,f=l-m):o<l/2&&(f=o,m=l-f);var p=void 0,v=void 0,h=void 0,g=function(e){return a.getPageElement(e)};for(p=0;p<r;p++)v=p+1,v<=n?e.push(g(p)):v>r-n?e.push(g(p)):p>=o-f&&p<=o+m?e.push(g(p)):i&&e[e.length-1]!==h&&(h=d.default.createElement(E.default,{key:p,breakLabel:i,breakClassName:s,breakLinkClassName:u,onClick:a.handleBreakClick.bind(null,p)}),e.push(h))}return e};var l=void 0;return l=e.initialPage?e.initialPage:e.forcePage?e.forcePage:0,a.state={selected:l},a}return i(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.initialPage,a=e.disableInitialCallback,l=e.extraAriaContext;void 0===t||a||this.callCallback(t),l&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead.")}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){void 0!==e.forcePage&&this.props.forcePage!==e.forcePage&&this.setState({selected:e.forcePage})}},{key:"getForwardJump",value:function(){var e=this.state.selected,t=this.props,a=t.pageCount,l=t.pageRangeDisplayed,r=e+l;return r>=a?a-1:r}},{key:"getBackwardJump",value:function(){var e=this.state.selected,t=this.props.pageRangeDisplayed,a=e-t;return a<0?0:a}},{key:"hrefBuilder",value:function(e){var t=this.props,a=t.hrefBuilder,l=t.pageCount;if(a&&e!==this.state.selected&&e>=0&&e<l)return a(e+1)}},{key:"ariaLabelBuilder",value:function(e){var t=e===this.state.selected;if(this.props.ariaLabelBuilder&&e>=0&&e<this.props.pageCount){var a=this.props.ariaLabelBuilder(e+1,t);return this.props.extraAriaContext&&!t&&(a=a+" "+this.props.extraAriaContext),a}}},{key:"getPageElement",value:function(e){var t=this.state.selected,a=this.props,l=a.pageClassName,r=a.pageLinkClassName,n=a.activeClassName,i=a.activeLinkClassName,s=a.extraAriaContext;return d.default.createElement(m.default,{key:e,onClick:this.handlePageSelected.bind(null,e),selected:t===e,pageClassName:l,pageLinkClassName:r,activeClassName:n,activeLinkClassName:i,extraAriaContext:s,href:this.hrefBuilder(e),ariaLabel:this.ariaLabelBuilder(e),page:e+1})}},{key:"render",value:function(){var e=this.props,t=e.disabledClassName,a=e.previousClassName,l=e.nextClassName,r=e.pageCount,n=e.containerClassName,i=e.previousLinkClassName,s=e.previousLabel,u=e.nextLinkClassName,o=e.nextLabel,c=this.state.selected,f=a+(0===c?" "+t:""),m=l+(c===r-1?" "+t:""),p=0===c?"true":"false",E=c===r-1?"true":"false";return d.default.createElement("ul",{className:n},d.default.createElement("li",{className:f},d.default.createElement("a",{onClick:this.handlePreviousPage,className:i,href:this.hrefBuilder(c-1),tabIndex:"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":p},s)),this.pagination(),d.default.createElement("li",{className:m},d.default.createElement("a",{onClick:this.handleNextPage,className:u,href:this.hrefBuilder(c+1),tabIndex:"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":E},o)))}}]),t}(u.Component);v.propTypes={pageCount:c.default.number.isRequired,pageRangeDisplayed:c.default.number.isRequired,marginPagesDisplayed:c.default.number.isRequired,previousLabel:c.default.node,nextLabel:c.default.node,breakLabel:c.default.oneOfType([c.default.string,c.default.node]),hrefBuilder:c.default.func,onPageChange:c.default.func,initialPage:c.default.number,forcePage:c.default.number,disableInitialCallback:c.default.bool,containerClassName:c.default.string,pageClassName:c.default.string,pageLinkClassName:c.default.string,activeClassName:c.default.string,activeLinkClassName:c.default.string,previousClassName:c.default.string,nextClassName:c.default.string,previousLinkClassName:c.default.string,nextLinkClassName:c.default.string,disabledClassName:c.default.string,breakClassName:c.default.string,breakLinkClassName:c.default.string,extraAriaContext:c.default.string,ariaLabelBuilder:c.default.func},v.defaultProps={pageCount:10,pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousClassName:"previous",nextClassName:"next",previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",disabledClassName:"disabled",disableInitialCallback:!1},t.default=v},2469:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(2468),r=function(e){return e&&e.__esModule?e:{default:e}}(l);t.default=r.default},2472:function(e,t,a){var l=a(2426);"string"==typeof l&&(l=[[e.i,l,""]]);var r={singleton:!0};r.transform=void 0,a(4)(l,r),l.locals&&(e.exports=l.locals)},2474:function(e,t,a){var l=a(2428);"string"==typeof l&&(l=[[e.i,l,""]]);var r={singleton:!0};r.transform=void 0,a(4)(l,r),l.locals&&(e.exports=l.locals)},2478:function(e,t,a){var l=a(2435);"string"==typeof l&&(l=[[e.i,l,""]]);var r={singleton:!0};r.transform=void 0,a(4)(l,r),l.locals&&(e.exports=l.locals)},2479:function(e,t,a){var l=a(2436);"string"==typeof l&&(l=[[e.i,l,""]]);var r={singleton:!0};r.transform=void 0,a(4)(l,r),l.locals&&(e.exports=l.locals)},2480:function(e,t,a){var l=a(2437);"string"==typeof l&&(l=[[e.i,l,""]]);var r={singleton:!0};r.transform=void 0,a(4)(l,r),l.locals&&(e.exports=l.locals)},2481:function(e,t,a){var l=a(2438);"string"==typeof l&&(l=[[e.i,l,""]]);var r={singleton:!0};r.transform=void 0,a(4)(l,r),l.locals&&(e.exports=l.locals)},2482:function(e,t,a){var l=a(2439);"string"==typeof l&&(l=[[e.i,l,""]]);var r={singleton:!0};r.transform=void 0,a(4)(l,r),l.locals&&(e.exports=l.locals)}});